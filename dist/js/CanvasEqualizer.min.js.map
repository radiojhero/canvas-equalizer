{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6","webpack:///js/CanvasEqualizer.min.js","webpack:///webpack/bootstrap c7e0d7768e5d442e672b?b5bd","webpack:///../~/deep-assign/index.js?77d0","webpack:///./ts/CanvasEqualizer.ts?0f88","webpack:///./ts/index.ts?0c95","webpack:///./ts/Common.ts?a8b5","webpack:///./ts/Equalizer.ts?53fd","webpack:///./ts/FFTNR.ts?3942","webpack:///./ts/L10n.ts?f537","webpack:///../~/is-obj/index.js?87a0","webpack:///./locales/en.json?199c"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","toObject","val","undefined","TypeError","assignKey","to","from","key","isObj","assign","getOwnPropertySymbols","symbols","length","propIsEnumerable","propertyIsEnumerable","target","arguments","__webpack_exports__","_toConsumableArray","arr","Array","isArray","arr2","_classCallCheck","instance","Constructor","__WEBPACK_IMPORTED_MODULE_0_deep_assign__","__WEBPACK_IMPORTED_MODULE_0_deep_assign___default","__WEBPACK_IMPORTED_MODULE_1__Common__","__WEBPACK_IMPORTED_MODULE_2__Equalizer__","__WEBPACK_IMPORTED_MODULE_3__L10n__","_createClass","defineProperties","props","descriptor","writable","protoProps","staticProps","defaultOptions","classNamespace","filterOptions","updateFilterOnDrag","CanvasEqualizer","filterLength","audioContext","_this","options","_showZones","_editZones","_isActualChannelCurveNeeded","_currentChannelIndex","_isSameFilterLR","_drawingMode","_lastDrawX","_lastDrawY","_isRTL","_formatFrequencyUnit","frequency","compact","unit","_l10n","format","_wrappedUpdateFilter","_filter","updateFilter","_btnMnuClick","e","button","_toggleMenu","_mnuChBLClick","_mnuChBClick","_mnuChBRClick","channelIndex","updateActualChannelCurve","_drawCurve","copyFilter","_checkMenu","_mnuChBL","_mnuChBR","_mnuChLClick","_mnuChLRClick","_mnuChRClick","_mnuChL","_mnuChR","_mnuShowZonesClick","_mnuShowZones","_mnuEditZonesClick","_canvas","classList","_options","_mnuEditZones","_mnuNormalizeCurvesClick","isNormalized","_mnuNormalizeCurves","_mnuShowActualClick","_mnuShowActual","_btnMnuKeyDown","window","setTimeout","items","_mnu","querySelectorAll","focus","_mnuKeyDown","moveFocus","elem","down","siblingProp","currentElem","HTMLButtonElement","contains","_btnMnu","_canvasMouseDown","_elemCoords","x","y","normX","Math","floor","_widthRatio","normY","_heightRatio","visibleBinCount","changeZoneY","channelCurves","clampY","setPointerCapture","pointerId","clonedFromTouch","_canvasMouseMove","_canvasMouseUp","document","_documentMouseMove","_documentMouseUp","releasePointerCapture","curve","_elemCoords2","width","height","abs","delta","inc","count","actualChannelCurve","_setStatusBar","_windowResize","_fixCanvasSize","language","placeholder","_this2","_ctx","createLabel","content","lbl","createElement","className","_clsNS","innerHTML","createMenuSep","setAttribute","createMenuLabel","text","textContent","createMenuItem","checkable","checked","clickHandler","type","dataset","appendChild","createTextNode","addEventListener","blur","_element","test","navigator","userAgent","MSStream","add","getComputedStyle","direction","_stb","ctx","getContext","Error","_lblCursor","_lblCurve","_lblFrequency","zeroChannelValueY","_rangeImage","clearTimeout","_barHideTimeout","reset","locale","loadLocale","dB","Infinity","ret","toLocaleString","minimumFractionDigits","maximumFractionDigits","replace","frequencyAndEquivalent","_this3","apply","concat","map","mnu","chk","inner","toggle","style","visibility","toString","slice","forEach","firstChild","pixelRound","round","middleOffset","canvas","pixelRatio","devicePixelRatio","widthRatio","heightRatio","widthMinus1","fillStyle","fillRect","lineWidth","strokeStyle","beginPath","moveTo","lineTo","stroke","font","textAlign","fillText","validYRangeHeight","equivalentZonesFrequencyCount","clientHeight","display","rect","getBoundingClientRect","setTransform","createLinearGradient","addColorStop","label","span","querySelector","curveY","_setLabelParam","_formatDB","yToDB","_formatFrequency","visibleBinToFrequencyGroup","set","newFilterLength","sampleRate","newSampleRate","newAudioContext","visibleFrequencies","convolver","default","wrap","func","wrapper","tag","wrapperTag","unwrap","push","filter","entry","keyPressed","_len","chars","_key","chr","keys","keyFix","indexOf","_ref","_ref2","_slicedToArray","keyCode","cancelEvent","preventDefault","stopPropagation","throttledFunction","timeout","runningFuncs","splice","requestAnimationFrame","addThrottledEvent","observable","eventName","targetFunction","capturePhase","running","removeThrottledEvent","removeEventListener","elemCoords","clientX","left","clientY","top","attachPointer","detachPointer","sliceIterator","_arr","_n","_d","_e","_s","_i","Symbol","iterator","next","done","err","MouseEvent","eventType","params","bubbles","cancelable","mouseEvent","createEvent","initMouseEvent","screenX","screenY","ctrlKey","altKey","shiftKey","metaKey","CustomEvent","Event","PointerEvent","mappings","move","up","touch","changedTouches","pseudoMouse","result","defaultPrevented","mapping","Backspace","\t","\n","Escape","End","Home","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","Delete","__WEBPACK_IMPORTED_MODULE_1__FFTNR__","Equalizer","_validateFilterLength","_filterLength","_sampleRate","_isNormalized","_binCount","_audioContext","_filterKernel","createBuffer","_convolver","createConvolver","normalize","buffer","_tmp","Float32Array","_channelCurves","Int16Array","_actualChannelCurve","_channelIndex","_zeroChannelValueY","_maximumChannelValue","_minimumChannelValue","_minusInfiniteChannelValue","_maximumChannelValueY","_minimumChannelValueY","_visibleFrequencies","_equivalentZones","Uint16Array","eqz","ratio","freqSteps","firstFreqs","f","num","_equivalentZonesFrequencyCount","maxY","minY","_lerp","exp","LN10","magnitude","zcy","log","visibleBinIndex","z","vf","vbc","ez","ezc","visibleBinToZoneIndex","ii","cy","sourceChannel","destinationChannel","src","getChannelData","dst","updateBothChannels","max","isSameFilterLR","valueCount","bw","filterLength2","M_HALF_PI_FFTLEN2","PI","invMaxMag","repeat","Number","mag","yToMagnitude","_freq","avg","avgCount","_mag","_freq2","_mag2","k","sin","cos","_applyWindowAndComputeActualMagnitudes","oldChannelIndex","tmp","freq","magnitudeToY","_freq3","M","PI2_M","maxMag","_i2","rval","ival","sqrt","disconnect","newChannelIndex","x0","y0","x1","y1","FFTComplex","data","isign","nn","mmax","j","istep","wr","wpr","wpi","wi","theta","tempr","tempi","halfmmax","dj1","dj","FFTReal","i1","i2","i3","i4","d1","d2","d3","d4","n4","c2","h1r","h1i","h2r","h2i","__WEBPACK_IMPORTED_MODULE_0__locales_en_json__","__WEBPACK_IMPORTED_MODULE_0__locales_en_json___default","defaultLanguage","L10n","_locales","_language","a","locales","str","args","arg","RegExp","cursor.label","curve.label","frequency.label","frequency.text","frequency.format","frequency.unit.Hz","frequency.unit.kHz","menu","menu.both","menu.both.left","menu.both.right","menu.one","menu.one.left","menu.one.right","menu.zones","menu.zoneEdit","menu.normalizeCurves","menu.actualResponse"],"mappings":"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","file":"js/CanvasEqualizer.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"CanvasEqualizer\"] = factory();\n\telse\n\t\troot[\"CanvasEqualizer\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"CanvasEqualizer\"] = factory();\n\telse\n\t\troot[\"CanvasEqualizer\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar isObj = __webpack_require__(8);\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Sources cannot be null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction assignKey(to, from, key) {\n\tvar val = from[key];\n\n\tif (val === undefined || val === null) {\n\t\treturn;\n\t}\n\n\tif (hasOwnProperty.call(to, key)) {\n\t\tif (to[key] === undefined || to[key] === null) {\n\t\t\tthrow new TypeError('Cannot convert undefined or null to object (' + key + ')');\n\t\t}\n\t}\n\n\tif (!hasOwnProperty.call(to, key) || !isObj(val)) {\n\t\tto[key] = val;\n\t} else {\n\t\tto[key] = assign(Object(to[key]), from[key]);\n\t}\n}\n\nfunction assign(to, from) {\n\tif (to === from) {\n\t\treturn to;\n\t}\n\n\tfrom = Object(from);\n\n\tfor (var key in from) {\n\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\tassignKey(to, from, key);\n\t\t}\n\t}\n\n\tif (Object.getOwnPropertySymbols) {\n\t\tvar symbols = Object.getOwnPropertySymbols(from);\n\n\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\tassignKey(to, from, symbols[i]);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n}\n\nmodule.exports = function deepAssign(target) {\n\ttarget = toObject(target);\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tassign(target, arguments[s]);\n\t}\n\n\treturn target;\n};\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_deep_assign__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_deep_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_deep_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Common__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Equalizer__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__L10n__ = __webpack_require__(7);\nvar _createClass = function () {\n    function defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n        }\n    }return function (Constructor, protoProps, staticProps) {\n        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n    };\n}();\n\nfunction _toConsumableArray(arr) {\n    if (Array.isArray(arr)) {\n        for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n            arr2[i] = arr[i];\n        }return arr2;\n    } else {\n        return Array.from(arr);\n    }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n\n/**\r\n * canvas-equalizer is distributed under the FreeBSD License\r\n *\r\n * Copyright (c) 2012-2017 Armando Meziat, Carlos Rafael Gimenes das Neves\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice, this\r\n *    list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\r\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\r\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\r\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\r\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\r\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\r\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\r\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\r\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\r\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n * The views and conclusions contained in the software and documentation are those\r\n * of the authors and should not be interpreted as representing official policies,\r\n * either expressed or implied, of the FreeBSD Project.\r\n *\r\n * https://github.com/kantoradio/canvas-equalizer\r\n */\n\n\n\n\nvar defaultOptions = {\n    classNamespace: 'GE',\n    filterOptions: {},\n    updateFilterOnDrag: true\n};\n\nvar CanvasEqualizer = function () {\n    function CanvasEqualizer(filterLength, audioContext) {\n        var _this = this;\n\n        var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n        _classCallCheck(this, CanvasEqualizer);\n\n        this._showZones = false;\n        this._editZones = false;\n        this._isActualChannelCurveNeeded = true;\n        this._currentChannelIndex = 0;\n        this._isSameFilterLR = true;\n        this._drawingMode = 0;\n        this._lastDrawX = 0;\n        this._lastDrawY = 0;\n        this._isRTL = false;\n        this._formatFrequencyUnit = function (frequency, compact) {\n            var unit = 'Hz';\n            if (compact) {\n                if (frequency >= 1000) {\n                    unit = 'k' + unit;\n                    frequency = frequency / 1000;\n                }\n            }\n            return _this._l10n.format('frequency.format', frequency, _this._l10n.get('frequency.unit.' + unit));\n        };\n        this._wrappedUpdateFilter = function () {\n            _this._filter.updateFilter(false);\n        };\n        // events\n        this._btnMnuClick = function (e) {\n            if (!e.button) {\n                _this._toggleMenu();\n            }\n        };\n        this._mnuChBLClick = function (e) {\n            _this._mnuChBClick(e, 0);\n        };\n        this._mnuChBRClick = function (e) {\n            _this._mnuChBClick(e, 1);\n        };\n        this._mnuChBClick = function (e, channelIndex) {\n            if (!e.button) {\n                if (!_this._isSameFilterLR || _this._currentChannelIndex !== channelIndex) {\n                    if (_this._isSameFilterLR) {\n                        _this._currentChannelIndex = channelIndex;\n                        _this._filter.channelIndex = -1;\n                        _this._filter.updateFilter(true);\n                        if (_this._isActualChannelCurveNeeded) {\n                            _this._filter.updateActualChannelCurve(channelIndex);\n                        }\n                        _this._drawCurve();\n                    } else {\n                        _this._isSameFilterLR = true;\n                        _this._filter.copyFilter(channelIndex, 1 - channelIndex);\n                        if (_this._currentChannelIndex !== channelIndex) {\n                            _this._currentChannelIndex = channelIndex;\n                            if (_this._isActualChannelCurveNeeded) {\n                                _this._filter.updateActualChannelCurve(channelIndex);\n                            }\n                            _this._drawCurve();\n                        }\n                    }\n                    _this._checkMenu(_this._mnuChBL, channelIndex === 0);\n                    _this._checkMenu(_this._mnuChBR, channelIndex === 1);\n                }\n            }\n        };\n        this._mnuChLClick = function (e) {\n            _this._mnuChLRClick(e, 0);\n        };\n        this._mnuChRClick = function (e) {\n            _this._mnuChLRClick(e, 1);\n        };\n        this._mnuChLRClick = function (e, channelIndex) {\n            if (!e.button) {\n                if (_this._isSameFilterLR || _this._currentChannelIndex !== channelIndex) {\n                    if (_this._isSameFilterLR) {\n                        _this._isSameFilterLR = false;\n                        _this._filter.channelIndex = 1 - _this._currentChannelIndex;\n                        _this._filter.updateFilter(false);\n                    }\n                    if (_this._currentChannelIndex !== channelIndex) {\n                        _this._currentChannelIndex = channelIndex;\n                        if (_this._isActualChannelCurveNeeded) {\n                            _this._filter.updateActualChannelCurve(channelIndex);\n                        }\n                        _this._drawCurve();\n                    }\n                    _this._checkMenu(_this._mnuChL, channelIndex === 0);\n                    _this._checkMenu(_this._mnuChR, channelIndex === 1);\n                }\n            }\n        };\n        this._mnuShowZonesClick = function (e) {\n            if (!e.button) {\n                _this._showZones = !_this._showZones;\n                _this._checkMenu(_this._mnuShowZones, _this._showZones);\n                _this._drawCurve();\n            }\n        };\n        this._mnuEditZonesClick = function (e) {\n            if (!e.button) {\n                _this._editZones = !_this._editZones;\n                _this._canvas.classList[_this._editZones ? 'add' : 'remove'](_this._options.classNamespace + 'CNVZON');\n                _this._checkMenu(_this._mnuEditZones, _this._editZones);\n            }\n        };\n        this._mnuNormalizeCurvesClick = function (e) {\n            if (!e.button) {\n                _this._filter.isNormalized = !_this._filter.isNormalized;\n                _this._checkMenu(_this._mnuNormalizeCurves, _this._filter.isNormalized);\n                if (_this._isActualChannelCurveNeeded) {\n                    _this._filter.updateActualChannelCurve(_this._currentChannelIndex);\n                    _this._drawCurve();\n                }\n            }\n        };\n        this._mnuShowActualClick = function (e) {\n            if (!e.button) {\n                _this._isActualChannelCurveNeeded = !_this._isActualChannelCurveNeeded;\n                _this._checkMenu(_this._mnuShowActual, _this._isActualChannelCurveNeeded);\n                if (_this._isActualChannelCurveNeeded) {\n                    _this._filter.updateActualChannelCurve(_this._currentChannelIndex);\n                }\n                _this._drawCurve();\n            }\n        };\n        this._btnMnuKeyDown = function (e) {\n            if (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__Common__[\"a\" /* keyPressed */])(e, 'ArrowUp', 'ArrowDown')) {\n                __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__Common__[\"b\" /* cancelEvent */])(e);\n                _this._toggleMenu(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__Common__[\"a\" /* keyPressed */])(e, 'ArrowUp'));\n                window.setTimeout(function () {\n                    var items = _this._mnu.querySelectorAll('.' + _this._options.classNamespace + 'MNUIT');\n                    items[items.length - 1].focus();\n                });\n            }\n        };\n        this._mnuKeyDown = function (e) {\n            var moveFocus = function moveFocus(elem, down) {\n                var siblingProp = down ? 'nextSibling' : 'previousSibling';\n                var currentElem = elem;\n                do {\n                    currentElem = currentElem[siblingProp];\n                    if (currentElem instanceof HTMLButtonElement && currentElem.classList.contains(_this._options.classNamespace + 'MNUIT')) {\n                        currentElem.focus();\n                        return true;\n                    }\n                } while (currentElem);\n                return false;\n            };\n            if (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__Common__[\"a\" /* keyPressed */])(e, 'ArrowUp', 'ArrowDown')) {\n                __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__Common__[\"b\" /* cancelEvent */])(e);\n                var down = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__Common__[\"a\" /* keyPressed */])(e, 'ArrowDown');\n                if (!moveFocus(e.target, down) && down) {\n                    _this._btnMnu.focus();\n                }\n            }\n        };\n        this._canvasMouseDown = function (e) {\n            if (!e.button) {\n                if (!_this._drawingMode) {\n                    var _elemCoords = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__Common__[\"c\" /* elemCoords */])(_this._canvas, e),\n                        x = _elemCoords.x,\n                        y = _elemCoords.y;\n\n                    var normX = Math.floor(x / _this._widthRatio());\n                    var normY = y / _this._heightRatio();\n                    if (normX >= 0 && normX < _this._filter.options.visibleBinCount) {\n                        _this._drawingMode = 1;\n                        if (_this._editZones) {\n                            _this._filter.changeZoneY(_this._currentChannelIndex, normX, normY);\n                        } else {\n                            _this._filter.channelCurves[_this._currentChannelIndex][normX] = _this._filter.clampY(normY);\n                            _this._lastDrawX = normX;\n                            _this._lastDrawY = normY;\n                        }\n                        _this._drawCurve();\n                        if (_this._canvas.setPointerCapture) {\n                            _this._canvas.setPointerCapture(e.pointerId);\n                        } else if (!e.clonedFromTouch) {\n                            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__Common__[\"d\" /* detachPointer */])(_this._canvas, 'move', _this._canvasMouseMove);\n                            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__Common__[\"d\" /* detachPointer */])(_this._canvas, 'up', _this._canvasMouseUp);\n                            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__Common__[\"e\" /* attachPointer */])(document, 'move', _this._documentMouseMove, true);\n                            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__Common__[\"e\" /* attachPointer */])(document, 'up', _this._documentMouseUp, true);\n                        }\n                    }\n                }\n                return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__Common__[\"b\" /* cancelEvent */])(e);\n            }\n            return true;\n        };\n        this._canvasMouseUp = function (e) {\n            if (_this._drawingMode) {\n                _this._drawingMode = 0;\n                _this._filter.channelIndex = _this._currentChannelIndex;\n                _this._filter.updateFilter(false);\n                if (_this._isActualChannelCurveNeeded) {\n                    _this._filter.updateActualChannelCurve(_this._currentChannelIndex);\n                }\n                _this._drawCurve();\n                if (_this._canvas.releasePointerCapture) {\n                    _this._canvas.releasePointerCapture(e.pointerId);\n                } else if (!e.clonedFromTouch) {\n                    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__Common__[\"d\" /* detachPointer */])(document, 'move', _this._documentMouseMove, true);\n                    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__Common__[\"d\" /* detachPointer */])(document, 'up', _this._documentMouseUp, true);\n                    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__Common__[\"e\" /* attachPointer */])(_this._canvas, 'move', _this._canvasMouseMove);\n                    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__Common__[\"e\" /* attachPointer */])(_this._canvas, 'up', _this._canvasMouseUp);\n                }\n            }\n        };\n        this._canvasMouseMove = function (e) {\n            var curve = _this._filter.channelCurves[_this._currentChannelIndex];\n\n            var _elemCoords2 = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__Common__[\"c\" /* elemCoords */])(_this._canvas, e),\n                x = _elemCoords2.x,\n                y = _elemCoords2.y;\n\n            if (_this._drawingMode || x >= 0 && x < _this._canvas.width && y >= 0 && y < _this._canvas.height) {\n                var normX = Math.floor(x / _this._widthRatio());\n                var normY = y / _this._heightRatio();\n                if (normX < 0) {\n                    normX = 0;\n                } else if (normX >= _this._filter.options.visibleBinCount) {\n                    normX = _this._filter.options.visibleBinCount - 1;\n                }\n                if (_this._drawingMode) {\n                    if (_this._editZones) {\n                        _this._filter.changeZoneY(_this._currentChannelIndex, normX, normY);\n                    } else {\n                        if (Math.abs(normX - _this._lastDrawX) > 1) {\n                            var delta = (normY - _this._lastDrawY) / Math.abs(normX - _this._lastDrawX);\n                            var inc = normX < _this._lastDrawX ? -1 : 1;\n                            normY = _this._lastDrawY + delta;\n                            var count = Math.abs(normX - _this._lastDrawX) - 1;\n                            for (normX = _this._lastDrawX + inc; count > 0; normX += inc, count--) {\n                                curve[normX] = _this._filter.clampY(normY);\n                                normY += delta;\n                            }\n                        }\n                        curve[normX] = _this._filter.clampY(normY);\n                        _this._lastDrawX = normX;\n                        _this._lastDrawY = normY;\n                    }\n                    _this._drawCurve();\n                    if (_this._options.updateFilterOnDrag) {\n                        // tslint:disable-next-line:no-magic-numbers\n                        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__Common__[\"f\" /* throttledFunction */])(_this._wrappedUpdateFilter, 150);\n                    }\n                } else if (_this._isActualChannelCurveNeeded) {\n                    curve = _this._filter.actualChannelCurve;\n                }\n                _this._setStatusBar(normX, normY, curve[normX]);\n                if (_this._drawingMode) {\n                    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__Common__[\"b\" /* cancelEvent */])(e);\n                }\n            }\n            return true;\n        };\n        this._windowResize = function () {\n            _this._fixCanvasSize();\n        };\n        this._documentMouseMove = function (e) {\n            return _this._canvasMouseMove(e);\n        };\n        this._documentMouseUp = function (e) {\n            _this._canvasMouseUp(e);\n        };\n        this._options = __WEBPACK_IMPORTED_MODULE_0_deep_assign___default()({}, defaultOptions, options);\n        this._filter = new __WEBPACK_IMPORTED_MODULE_2__Equalizer__[\"a\" /* default */](filterLength, audioContext, this._options.filterOptions);\n        this._l10n = new __WEBPACK_IMPORTED_MODULE_3__L10n__[\"a\" /* default */](this._options.language);\n    }\n\n    _createClass(CanvasEqualizer, [{\n        key: 'createControl',\n        value: function createControl(placeholder) {\n            var _this2 = this;\n\n            if (!this._ctx) {\n                var createLabel = function createLabel(name, content) {\n                    var lbl = document.createElement('div');\n                    lbl.className = _clsNS + 'LBL ' + _clsNS + 'LBL' + name;\n                    lbl.innerHTML = _this2._l10n.get(content);\n                    return lbl;\n                };\n                var createMenuSep = function createMenuSep() {\n                    var s = document.createElement('div');\n                    s.className = _clsNS + 'MNUSEP';\n                    s.setAttribute('role', 'separator');\n                    return s;\n                };\n                var createMenuLabel = function createMenuLabel(text) {\n                    var l = document.createElement('div');\n                    l.className = _clsNS + 'MNULBL';\n                    l.textContent = _this2._l10n.get(text);\n                    return l;\n                };\n                var createMenuItem = function createMenuItem(text, checkable, checked, clickHandler) {\n                    var i = document.createElement('button');\n                    i.type = 'button';\n                    i.className = _clsNS + 'MNUIT ' + _clsNS + 'CLK';\n                    if (checkable) {\n                        if (typeof checkable === 'string') {\n                            i.dataset['radioGroup'] = checkable;\n                            i.setAttribute('role', 'menuitemradio');\n                        } else {\n                            i.setAttribute('role', 'menuitemcheckbox');\n                        }\n                        var s = document.createElement('span');\n                        s.textContent = typeof checkable === 'string' ? ' ' : ' ';\n                        i.appendChild(s);\n                        _this2._checkMenu(i, checked);\n                    } else {\n                        i.setAttribute('role', 'menuitem');\n                    }\n                    i.appendChild(document.createTextNode(_this2._l10n.get(text)));\n                    if (clickHandler) {\n                        i.addEventListener('click', clickHandler);\n                    }\n                    i.addEventListener('mouseenter', function () {\n                        i.focus();\n                    });\n                    i.addEventListener('mouseleave', function () {\n                        i.blur();\n                    });\n                    return i;\n                };\n                var _clsNS = this._options.classNamespace;\n                this._element = placeholder;\n                placeholder.className = _clsNS;\n                if (/\\bip(?:[ao]d|hone)\\b/i.test(navigator.userAgent) && !window.MSStream) {\n                    placeholder.classList.add(_clsNS + 'IOS');\n                }\n                if (getComputedStyle(placeholder).direction === 'rtl') {\n                    placeholder.classList.add('RTL');\n                    this._isRTL = true;\n                }\n                placeholder.addEventListener('contextmenu', __WEBPACK_IMPORTED_MODULE_1__Common__[\"b\" /* cancelEvent */]);\n                this._stb = document.createElement('div');\n                this._stb.className = _clsNS + 'STB';\n                placeholder.appendChild(this._stb);\n                this._canvas = document.createElement('canvas');\n                this._canvas.className = _clsNS + 'CNV';\n                __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__Common__[\"e\" /* attachPointer */])(this._canvas, 'down', this._canvasMouseDown);\n                __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__Common__[\"e\" /* attachPointer */])(this._canvas, 'move', this._canvasMouseMove);\n                __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__Common__[\"e\" /* attachPointer */])(this._canvas, 'up', this._canvasMouseUp);\n                this._canvas.addEventListener('contextmenu', __WEBPACK_IMPORTED_MODULE_1__Common__[\"b\" /* cancelEvent */]);\n                placeholder.appendChild(this._canvas);\n                __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__Common__[\"g\" /* addThrottledEvent */])(window, 'resize', this._windowResize);\n                var ctx = this._canvas.getContext('2d');\n                if (!ctx) {\n                    throw new Error('Unable to get a 2D context.');\n                }\n                this._ctx = ctx;\n                this._stb.appendChild(this._lblCursor = createLabel('CSR', 'cursor.label'));\n                this._stb.appendChild(this._lblCurve = createLabel('CRV', 'curve.label'));\n                this._stb.appendChild(this._lblFrequency = createLabel('FRQ', 'frequency.label'));\n                this._setStatusBar(0, this._filter.zeroChannelValueY, this._filter.zeroChannelValueY);\n                this._btnMnu = document.createElement('button');\n                this._btnMnu.type = 'button';\n                this._btnMnu.className = _clsNS + 'BTN ' + _clsNS + 'CLK';\n                this._btnMnu.setAttribute('aria-haspopup', 'true');\n                this._btnMnu.setAttribute('aria-label', this._l10n.get('menu'));\n                this._btnMnu.addEventListener('click', this._btnMnuClick);\n                this._btnMnu.addEventListener('keydown', this._btnMnuKeyDown);\n                this._btnMnu.addEventListener('mouseenter', function () {\n                    _this2._btnMnu.focus();\n                });\n                this._btnMnu.addEventListener('mouseleave', function () {\n                    _this2._btnMnu.blur();\n                });\n                this._stb.appendChild(this._btnMnu);\n                this._mnu = document.createElement('div');\n                this._mnu.className = _clsNS + 'MNU';\n                this._mnu.setAttribute('role', 'menu');\n                this._mnu.addEventListener('keydown', this._mnuKeyDown);\n                this._mnu.appendChild(createMenuLabel('menu.both'));\n                this._mnu.appendChild(this._mnuChBL = createMenuItem('menu.both.left', 'curve', true, this._mnuChBLClick));\n                this._mnu.appendChild(this._mnuChBR = createMenuItem('menu.both.right', 'curve', false, this._mnuChBRClick));\n                this._mnu.appendChild(createMenuSep());\n                this._mnu.appendChild(createMenuLabel('menu.one'));\n                this._mnu.appendChild(this._mnuChL = createMenuItem('menu.one.left', 'curve', false, this._mnuChLClick));\n                this._mnu.appendChild(this._mnuChR = createMenuItem('menu.one.right', 'curve', false, this._mnuChRClick));\n                this._mnu.appendChild(createMenuSep());\n                this._mnu.appendChild(this._mnuShowZones = createMenuItem('menu.zones', true, false, this._mnuShowZonesClick));\n                this._mnu.appendChild(this._mnuEditZones = createMenuItem('menu.zoneEdit', true, false, this._mnuEditZonesClick));\n                this._mnu.appendChild(createMenuSep());\n                this._mnu.appendChild(this._mnuNormalizeCurves = createMenuItem('menu.normalizeCurves', true, false, this._mnuNormalizeCurvesClick));\n                this._mnu.appendChild(this._mnuShowActual = createMenuItem('menu.actualResponse', true, true, this._mnuShowActualClick));\n                this._stb.appendChild(this._mnu);\n                this._toggleMenu(false);\n                this._fixCanvasSize();\n                this._drawCurve();\n            }\n            return this._canvas;\n        }\n    }, {\n        key: 'destroyControl',\n        value: function destroyControl() {\n            if (this._ctx) {\n                __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__Common__[\"h\" /* removeThrottledEvent */])(window, 'resize', this._windowResize);\n                delete this._canvas;\n                delete this._lblCursor;\n                delete this._lblCurve;\n                delete this._lblFrequency;\n                delete this._btnMnu;\n                delete this._mnu;\n                delete this._mnuChBL;\n                delete this._mnuChL;\n                delete this._mnuChBR;\n                delete this._mnuChR;\n                delete this._mnuShowZones;\n                delete this._mnuEditZones;\n                delete this._mnuNormalizeCurves;\n                delete this._mnuShowActual;\n                delete this._stb;\n                delete this._ctx;\n                delete this._rangeImage;\n                this._element.innerHTML = '';\n                delete this._element;\n                clearTimeout(this._barHideTimeout);\n            }\n        }\n    }, {\n        key: 'reset',\n        value: function reset() {\n            this._filter.reset();\n            this._drawCurve();\n        }\n    }, {\n        key: 'loadLocale',\n        value: function loadLocale(language, locale) {\n            this._l10n.loadLocale(language, locale);\n        }\n        /* tslint:disable:no-magic-numbers */\n\n    }, {\n        key: '_formatDB',\n        value: function _formatDB(dB) {\n            if (dB < -40) {\n                dB = -Infinity;\n            }\n            var ret = dB.toLocaleString(this._l10n.language, { minimumFractionDigits: 2, maximumFractionDigits: 2 });\n            return dB < 0 ? ret.replace('-', '') : dB === 0 ? '' + ret : '+' + ret;\n        }\n    }, {\n        key: '_formatFrequency',\n        value: function _formatFrequency(frequencyAndEquivalent) {\n            var _l10n,\n                _this3 = this;\n\n            return (_l10n = this._l10n).format.apply(_l10n, ['frequency.text'].concat(_toConsumableArray(frequencyAndEquivalent.map(function (frequency, i) {\n                return _this3._formatFrequencyUnit(frequency, !!i);\n            }))));\n        }\n        /* tslint:enable:no-magic-numbers */\n\n    }, {\n        key: '_checkMenu',\n        value: function _checkMenu(mnu, chk) {\n            function inner(elem, toggle) {\n                if (elem) {\n                    elem.style.visibility = toggle ? 'visible' : 'hidden';\n                    elem.setAttribute('aria-checked', toggle.toString());\n                }\n            }\n            if (chk && mnu.dataset['radioGroup']) {\n                [].slice.call(this._mnu.querySelectorAll('[data-radio-group=\"' + mnu.dataset['radioGroup'] + '\"]')).forEach(function (elem) {\n                    inner(elem.firstChild, false);\n                });\n            }\n            inner(mnu.firstChild, chk);\n        }\n    }, {\n        key: '_drawCurve',\n        value: function _drawCurve() {\n            /* tslint:disable:no-magic-numbers */\n            // all the 0.5's here are because of this explanation:\n            // http://stackoverflow.com/questions/195262/can-i-turn-off-antialiasing-on-an-html-canvas-element\n            // \"Draw your 1-pixel lines on coordinates like ctx.lineTo(10.5, 10.5). Drawing a one-pixel line\n            // over the point (10, 10) means, that this 1 pixel at that position reaches from 9.5 to 10.5 which\n            // results in two lines that get drawn on the canvas.\n            function pixelRound(x) {\n                return Math.round(x) + middleOffset;\n            }\n            var ctx = this._ctx;\n            var canvas = this._canvas;\n            var pixelRatio = window.devicePixelRatio;\n            var width = canvas.width / pixelRatio;\n            var height = canvas.height / pixelRatio;\n            var widthRatio = this._widthRatio();\n            var heightRatio = this._heightRatio();\n            var widthMinus1 = this._filter.options.visibleBinCount - 1;\n            var middleOffset = 0.5;\n            var curve = this._filter.channelCurves[this._currentChannelIndex];\n            if (!ctx) {\n                return false;\n            }\n            ctx.fillStyle = '#303030';\n            ctx.fillRect(0, 0, width, height);\n            ctx.lineWidth = 1;\n            ctx.strokeStyle = '#5a5a5a';\n            ctx.beginPath();\n            var x = width + 1 + middleOffset;\n            var y = pixelRound(this._filter.zeroChannelValueY * heightRatio);\n            ctx.moveTo(x, y);\n            while (x > 0) {\n                ctx.lineTo(x - 4, y);\n                x -= 10;\n                ctx.moveTo(x, y);\n            }\n            ctx.stroke();\n            ctx.font = 'bold 10pt Verdana';\n            ctx.textAlign = this._isRTL ? 'left' : 'right';\n            ctx.fillStyle = '#5a5a5a';\n            ctx.fillText(\"\\u200E\\u22120dB\", this._isRTL ? 1 : width - 1, Math.round(this._filter.zeroChannelValueY * heightRatio) - 2);\n            ctx.beginPath();\n            x = width - 1 - middleOffset;\n            y = pixelRound(this._filter.options.validYRangeHeight * heightRatio);\n            ctx.moveTo(x, y);\n            while (x > 0) {\n                ctx.lineTo(x - 4, y);\n                x -= 10;\n                ctx.moveTo(x, y);\n            }\n            ctx.stroke();\n            ctx.fillText(\"\\u200E\\u2212\\u221EdB\", this._isRTL ? 1 : width - 1, Math.round(this._filter.options.validYRangeHeight * heightRatio) - 2);\n            if (this._showZones) {\n                for (var i = this._filter.equivalentZonesFrequencyCount.length - 2; i > 0; i--) {\n                    x = pixelRound(this._filter.equivalentZonesFrequencyCount[i] * widthRatio);\n                    y = 0;\n                    ctx.beginPath();\n                    ctx.moveTo(x, y);\n                    while (y < height) {\n                        ctx.lineTo(x, y + 4);\n                        y += 10;\n                        ctx.moveTo(x, y);\n                    }\n                    ctx.stroke();\n                }\n            }\n            ctx.strokeStyle = this._isActualChannelCurveNeeded && !this._drawingMode ? '#707070' : this._rangeImage;\n            ctx.beginPath();\n            ctx.moveTo(0.5, pixelRound(curve[0] * heightRatio));\n            for (x = 1; x < widthMinus1; x++) {\n                ctx.lineTo(pixelRound(x * widthRatio), pixelRound(curve[x] * heightRatio));\n            }\n            // just to fill up the last pixel!\n            ctx.lineTo(Math.round(x * widthRatio) + 1, pixelRound(curve[x] * heightRatio));\n            ctx.stroke();\n            if (this._isActualChannelCurveNeeded && !this._drawingMode) {\n                curve = this._filter.actualChannelCurve;\n                ctx.strokeStyle = this._rangeImage;\n                ctx.beginPath();\n                ctx.moveTo(middleOffset, pixelRound(curve[0] * heightRatio));\n                for (x = 1; x < widthMinus1; x++) {\n                    ctx.lineTo(pixelRound(x * widthRatio), pixelRound(curve[x] * heightRatio));\n                }\n                // just to fill up the last pixel!\n                ctx.lineTo(Math.round(x * widthRatio) + 1, pixelRound(curve[x] * heightRatio));\n                ctx.stroke();\n            }\n            return true;\n            /* tslint:enable:no-magic-numbers */\n        }\n    }, {\n        key: '_widthRatio',\n        value: function _widthRatio() {\n            return this._canvas.width / window.devicePixelRatio / this._filter.options.visibleBinCount;\n        }\n    }, {\n        key: '_heightRatio',\n        value: function _heightRatio() {\n            var height = this._stb.clientHeight;\n            // tslint:disable-next-line:no-magic-numbers\n            return (this._canvas.height / window.devicePixelRatio - height - 5) / this._filter.options.validYRangeHeight;\n        }\n    }, {\n        key: '_fixCanvasSize',\n        value: function _fixCanvasSize() {\n            this._canvas.style.display = 'none';\n            var rect = this._element.getBoundingClientRect();\n            var pixelRatio = window.devicePixelRatio;\n            this._canvas.style.display = '';\n            this._canvas.style.width = rect.width + 'px';\n            this._canvas.style.height = rect.height + 'px';\n            this._canvas.width = rect.width * pixelRatio;\n            this._canvas.height = rect.height * pixelRatio;\n            this._ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n            /* tslint:disable:no-magic-numbers */\n            this._rangeImage = this._ctx.createLinearGradient(0, 0, 0, rect.height - this._stb.clientHeight - 5);\n            this._rangeImage.addColorStop(0, '#ff0000');\n            this._rangeImage.addColorStop(0.1875, '#ffff00');\n            this._rangeImage.addColorStop(0.39453125, '#00ff00');\n            this._rangeImage.addColorStop(0.60546875, '#00ffff');\n            this._rangeImage.addColorStop(0.796875, '#0000ff');\n            this._rangeImage.addColorStop(1, '#ff00ff');\n            /* tslint:enable:no-magic-numbers */\n            this._drawCurve();\n        }\n    }, {\n        key: '_setLabelParam',\n        value: function _setLabelParam(label, text) {\n            var span = label.querySelector('span');\n            if (span) {\n                span.textContent = text;\n            }\n        }\n    }, {\n        key: '_setStatusBar',\n        value: function _setStatusBar(x, y, curveY) {\n            this._setLabelParam(this._lblCursor, this._formatDB(this._filter.yToDB(y)));\n            this._setLabelParam(this._lblCurve, this._formatDB(this._filter.yToDB(curveY)));\n            this._setLabelParam(this._lblFrequency, this._formatFrequency(this._filter.visibleBinToFrequencyGroup(x)));\n        }\n    }, {\n        key: '_toggleMenu',\n        value: function _toggleMenu(toggle) {\n            toggle = toggle === undefined ? this._mnu.style.display === 'none' : toggle;\n            this._mnu.style.display = toggle ? '' : 'none';\n            this._btnMnu.textContent = toggle ? '' : '';\n        }\n        // virtual properties\n\n    }, {\n        key: 'options',\n        get: function get() {\n            return __WEBPACK_IMPORTED_MODULE_0_deep_assign___default()({}, defaultOptions, this._options);\n        }\n    }, {\n        key: 'filterLength',\n        get: function get() {\n            return this._filter.filterLength;\n        },\n        set: function set(newFilterLength) {\n            if (this._filter.filterLength !== newFilterLength) {\n                this._filter.filterLength = newFilterLength;\n                if (this._isActualChannelCurveNeeded) {\n                    this._filter.updateActualChannelCurve(this._currentChannelIndex);\n                }\n                this._drawCurve();\n            }\n        }\n    }, {\n        key: 'sampleRate',\n        get: function get() {\n            return this._filter.sampleRate;\n        },\n        set: function set(newSampleRate) {\n            if (this._filter.sampleRate !== newSampleRate) {\n                this._filter.sampleRate = newSampleRate;\n                if (this._isActualChannelCurveNeeded) {\n                    this._filter.updateActualChannelCurve(this._currentChannelIndex);\n                }\n                this._drawCurve();\n            }\n        }\n    }, {\n        key: 'audioContext',\n        get: function get() {\n            return this._filter.audioContext;\n        },\n        set: function set(newAudioContext) {\n            if (this._filter.audioContext !== newAudioContext) {\n                this._filter.audioContext = newAudioContext;\n            }\n        }\n    }, {\n        key: 'language',\n        get: function get() {\n            return this._l10n.language;\n        },\n        set: function set(language) {\n            this._l10n.language = language;\n        }\n    }, {\n        key: 'visibleFrequencies',\n        get: function get() {\n            return this._filter.visibleFrequencies;\n        }\n    }, {\n        key: 'convolver',\n        get: function get() {\n            return this._filter.convolver;\n        }\n    }]);\n\n    return CanvasEqualizer;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = CanvasEqualizer;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\r\n * canvas-equalizer is distributed under the FreeBSD License\r\n *\r\n * Copyright (c) 2012-2017 Armando Meziat, Carlos Rafael Gimenes das Neves\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice, this\r\n *    list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\r\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\r\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\r\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\r\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\r\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\r\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\r\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\r\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\r\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n * The views and conclusions contained in the software and documentation are those\r\n * of the authors and should not be interpreted as representing official policies,\r\n * either expressed or implied, of the FreeBSD Project.\r\n *\r\n * https://github.com/kantoradio/canvas-equalizer\r\n */\n\n// this is needed as per https://gist.github.com/iamakulov/966b91c0fc6363a16ff0650b51fb991b\n// tslint:disable-next-line:no-require-imports\n\nmodule.exports = __webpack_require__(1).default;\n\n/***/ }),\n/* 3 */,\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return attachPointer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return detachPointer; });\n/* unused harmony export keyFix */\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = keyPressed;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = cancelEvent;\n/* harmony export (immutable) */ __webpack_exports__[\"f\"] = throttledFunction;\n/* harmony export (immutable) */ __webpack_exports__[\"g\"] = addThrottledEvent;\n/* harmony export (immutable) */ __webpack_exports__[\"h\"] = removeThrottledEvent;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = elemCoords;\nvar _slicedToArray = function () {\n    function sliceIterator(arr, i) {\n        var _arr = [];var _n = true;var _d = false;var _e = undefined;try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n                _arr.push(_s.value);if (i && _arr.length === i) break;\n            }\n        } catch (err) {\n            _d = true;_e = err;\n        } finally {\n            try {\n                if (!_n && _i[\"return\"]) _i[\"return\"]();\n            } finally {\n                if (_d) throw _e;\n            }\n        }return _arr;\n    }return function (arr, i) {\n        if (Array.isArray(arr)) {\n            return arr;\n        } else if (Symbol.iterator in Object(arr)) {\n            return sliceIterator(arr, i);\n        } else {\n            throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n        }\n    };\n}();\n\n/**\r\n * canvas-equalizer is distributed under the FreeBSD License\r\n *\r\n * Copyright (c) 2012-2017 Armando Meziat, Carlos Rafael Gimenes das Neves\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice, this\r\n *    list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\r\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\r\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\r\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\r\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\r\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\r\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\r\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\r\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\r\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n * The views and conclusions contained in the software and documentation are those\r\n * of the authors and should not be interpreted as representing official policies,\r\n * either expressed or implied, of the FreeBSD Project.\r\n *\r\n * https://github.com/kantoradio/canvas-equalizer\r\n */\n// miscellaneous functions\n(function (window) {\n    try {\n        new CustomEvent('test');\n    } catch (e) {\n        return; // no need to polyfill\n    }\n    // polyfills DOM4 CustomEvent\n    function MouseEvent(eventType, params) {\n        params = params || { bubbles: false, cancelable: false };\n        var mouseEvent = document.createEvent('MouseEvent');\n        mouseEvent.initMouseEvent(eventType, params.bubbles, params.cancelable, window, 1, params.screenX, params.screenY, params.clientX, params.clientY, params.ctrlKey, params.altKey, params.shiftKey, params.metaKey, 0, null);\n        return mouseEvent;\n    }\n    MouseEvent.prototype = Event.prototype;\n    window.MouseEvent = MouseEvent;\n})(window);\nvar attachPointer = void 0;\nvar detachPointer = void 0;\nfunction wrap(func, wrapper, tag, elem) {\n    var wrapperTag = '__' + tag + '_wrapper__';\n    if (!func[wrapperTag]) {\n        func[wrapperTag] = [];\n    }\n    unwrap(func, tag, elem);\n    func[wrapperTag].push({ elem: elem, wrapper: wrapper });\n    return wrapper;\n}\nfunction unwrap(func, tag, elem) {\n    var wrapperTag = '__' + tag + '_wrapper__';\n    var ret = void 0;\n    if (func[wrapperTag]) {\n        func[wrapperTag] = func[wrapperTag].filter(function (entry, i) {\n            if (entry.elem === elem) {\n                ret = entry.wrapper;\n                return false;\n            }\n            return true;\n        });\n    }\n    return ret;\n}\nif (window.PointerEvent) {\n    attachPointer = function attachPointer(observable, eventName, targetFunction, capturePhase) {\n        observable.addEventListener('pointer' + eventName, targetFunction, capturePhase);\n    };\n    detachPointer = function detachPointer(observable, eventName, targetFunction, capturePhase) {\n        observable.removeEventListener('pointer' + eventName, targetFunction, capturePhase);\n    };\n} else if ('ontouchend' in document) {\n    var mappings = {\n        down: ['start'],\n        move: ['move'],\n        up: ['end', 'cancel']\n    };\n    attachPointer = function attachPointer(observable, eventName, targetFunction, capturePhase) {\n        var wrapper = function wrapper(e) {\n            var touch = e.changedTouches[0];\n            var pseudoMouse = new MouseEvent('mouse' + eventName, {\n                altKey: e.altKey,\n                clientX: touch && touch.clientX || 0,\n                clientY: touch && touch.clientY || 0,\n                ctrlKey: e.ctrlKey,\n                metaKey: e.metaKey,\n                screenX: touch && touch.screenX || 0,\n                screenY: touch && touch.screenY || 0,\n                shiftKey: e.shiftKey\n            });\n            pseudoMouse.clonedFromTouch = true;\n            var result = targetFunction(pseudoMouse);\n            if (result === false || pseudoMouse.defaultPrevented) {\n                cancelEvent(e);\n            }\n            return result;\n        };\n        mappings[eventName].forEach(function (mapping) {\n            observable.addEventListener('touch' + mapping, wrap(targetFunction, wrapper, 'touch' + eventName, observable), capturePhase);\n        });\n    };\n    detachPointer = function detachPointer(observable, eventName, targetFunction, capturePhase) {\n        mappings[eventName].forEach(function (mapping) {\n            observable.removeEventListener('touch' + mapping, unwrap(targetFunction, 'touch' + eventName, observable), capturePhase);\n        });\n    };\n} else {\n    attachPointer = function attachPointer(observable, eventName, targetFunction, capturePhase) {\n        observable.addEventListener('mouse' + eventName, targetFunction, capturePhase);\n    };\n    detachPointer = function detachPointer(observable, eventName, targetFunction, capturePhase) {\n        observable.removeEventListener('mouse' + eventName, targetFunction, capturePhase);\n    };\n}\nvar runningFuncs = [];\n\n/* tslint:disable:no-magic-numbers object-literal-sort-keys */\nvar keyFix = {\n    Backspace: 8,\n    '\\t': ['Tab', 9],\n    '\\n': ['Enter', 13],\n    Escape: 27,\n    End: 35,\n    Home: 36,\n    ArrowLeft: 37,\n    ArrowUp: 38,\n    ArrowRight: 39,\n    ArrowDown: 40,\n    Delete: 46\n};\n/* tslint:enable:no-magic-numbers object-literal-sort-keys */\nfunction keyPressed(e) {\n    for (var _len = arguments.length, chars = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        chars[_key - 1] = arguments[_key];\n    }\n\n    for (var i = 0; i < chars.length; i++) {\n        var chr = chars[i];\n        if (Object.keys(keyFix).indexOf(chr) !== -1) {\n            var _ref = Array.isArray(keyFix[chr]) ? keyFix[chr] : [chr, keyFix[chr]],\n                _ref2 = _slicedToArray(_ref, 2),\n                key = _ref2[0],\n                keyCode = _ref2[1];\n\n            if (e.key === key || e.keyCode === keyCode) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\nfunction cancelEvent(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    return false;\n}\nfunction throttledFunction(func, timeout) {\n    if (runningFuncs.indexOf(func) === -1) {\n        runningFuncs.push(func);\n        var wrapper = function wrapper() {\n            func();\n            runningFuncs.splice(runningFuncs.indexOf(func), 1);\n        };\n        if (timeout) {\n            setTimeout(wrapper, timeout);\n        } else {\n            requestAnimationFrame(wrapper);\n        }\n    }\n}\nfunction addThrottledEvent(observable, eventName, targetFunction, capturePhase) {\n    var running = false;\n    var wrapper = function wrapper(e) {\n        if (!running) {\n            running = true;\n            requestAnimationFrame(function () {\n                targetFunction(e);\n                running = false;\n            });\n        }\n    };\n    observable.addEventListener(eventName, wrap(targetFunction, wrapper, 'throttle' + eventName, observable), capturePhase);\n}\nfunction removeThrottledEvent(observable, eventName, targetFunction, capturePhase) {\n    observable.removeEventListener(eventName, unwrap(targetFunction, 'throttle' + eventName, observable), capturePhase);\n}\nfunction elemCoords(elem, e) {\n    var rect = elem.getBoundingClientRect();\n    return {\n        x: e.clientX - rect.left,\n        y: e.clientY - rect.top\n    };\n}\n\n/***/ }),\n/* 5 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_deep_assign__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_deep_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_deep_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__FFTNR__ = __webpack_require__(6);\nvar _createClass = function () {\n    function defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n        }\n    }return function (Constructor, protoProps, staticProps) {\n        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n    };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n\n/**\r\n * canvas-equalizer is distributed under the FreeBSD License\r\n *\r\n * Copyright (c) 2012-2017 Armando Meziat, Carlos Rafael Gimenes das Neves\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice, this\r\n *    list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\r\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\r\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\r\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\r\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\r\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\r\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\r\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\r\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\r\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n * The views and conclusions contained in the software and documentation are those\r\n * of the authors and should not be interpreted as representing official policies,\r\n * either expressed or implied, of the FreeBSD Project.\r\n *\r\n * https://github.com/kantoradio/canvas-equalizer\r\n */\n/* tslint:disable:no-magic-numbers no-bitwise */\n\n\nvar defaultOptions = {\n    validYRangeHeight: 255,\n    visibleBinCount: 512\n};\n\nvar Equalizer = function () {\n    function Equalizer(filterLength, audioContext) {\n        var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n        _classCallCheck(this, Equalizer);\n\n        Equalizer._validateFilterLength(filterLength);\n        this._options = __WEBPACK_IMPORTED_MODULE_0_deep_assign___default()({}, defaultOptions, options);\n        this._filterLength = filterLength;\n        this._sampleRate = audioContext.sampleRate || 44100;\n        this._isNormalized = false;\n        this._binCount = (filterLength >>> 1) + 1;\n        this._audioContext = audioContext;\n        this._filterKernel = audioContext.createBuffer(2, filterLength, this._sampleRate);\n        this._convolver = audioContext.createConvolver();\n        this._convolver.normalize = false;\n        this._convolver.buffer = this._filterKernel;\n        this._tmp = new Float32Array(filterLength);\n        this._channelCurves = [new Int16Array(this._options.visibleBinCount), new Int16Array(this._options.visibleBinCount)];\n        this._actualChannelCurve = new Int16Array(this._options.visibleBinCount);\n        this._channelIndex = -1;\n        this._zeroChannelValueY = this._options.validYRangeHeight >>> 1;\n        this._maximumChannelValue = this._options.validYRangeHeight >>> 1;\n        this._minimumChannelValue = -(this._options.validYRangeHeight >>> 1);\n        this._minusInfiniteChannelValue = -(this._options.validYRangeHeight >>> 1) - 1;\n        this._maximumChannelValueY = 0;\n        this._minimumChannelValueY = this._options.validYRangeHeight - 1;\n        this._visibleFrequencies = new Float32Array(this._options.visibleBinCount);\n        this._equivalentZones = new Uint16Array([31, 62, 125, 250, 500, 1000, 2000, 4000, 8000, 16000]);\n        /* [0, +9, +9, +18, +35, +36, +70, +72, +72, +72, visibleBinCount] */\n        var eqz = [0, 9, 18, 36, 71, 107, 177, 249, 321, 393, 512];\n        var ratio = this._options.visibleBinCount / eqz[eqz.length - 1];\n        var freqSteps = [5, 5, 5, 5, 10, 10, 20, 40, 80, 89];\n        var firstFreqs = [5, 50, 95, 185, 360, 720, 1420, 2860, 5740, 11498];\n        var f = firstFreqs[0];\n        if (this._options.visibleBinCount !== eqz[eqz.length - 1]) {\n            eqz = eqz.map(function (num) {\n                return Math.round(num * ratio);\n            });\n            freqSteps = freqSteps.map(function (num) {\n                return num / ratio;\n            });\n        }\n        this._equivalentZonesFrequencyCount = new Float32Array(eqz);\n        for (var i = 0, s = 0; i < this._options.visibleBinCount; i++) {\n            this._visibleFrequencies[i] = f;\n            if (s !== eqz.length - 1 && s !== firstFreqs.length - 1 && i + 1 >= eqz[s + 1]) {\n                s++;\n                f = firstFreqs[s];\n            } else {\n                f += freqSteps[s];\n            }\n        }\n        this.reset();\n    }\n\n    _createClass(Equalizer, [{\n        key: 'reset',\n        value: function reset() {\n            for (var i = this._options.visibleBinCount - 1; i >= 0; i--) {\n                this._channelCurves[0][i] = this._zeroChannelValueY;\n                this._channelCurves[1][i] = this._zeroChannelValueY;\n                this._actualChannelCurve[i] = this._zeroChannelValueY;\n            }\n            this.updateFilter(true);\n            this.updateActualChannelCurve(0);\n        }\n    }, {\n        key: 'clampY',\n        value: function clampY(y) {\n            var maxY = this._maximumChannelValueY;\n            var minY = this._minimumChannelValueY;\n            return y <= maxY ? maxY : y > minY ? this._options.validYRangeHeight + 1 : y;\n        }\n    }, {\n        key: 'yToDB',\n        value: function yToDB(y) {\n            var maxY = this._maximumChannelValueY;\n            var minY = this._minimumChannelValueY;\n            return y <= maxY ? 40 : y > minY ? -Infinity : Equalizer._lerp(maxY, 40, minY, -40, y);\n        }\n    }, {\n        key: 'yToMagnitude',\n        value: function yToMagnitude(y) {\n            // 40dB = 100\n            // -40dB = 0.01\n            // magnitude = 10 ^ (dB/20)\n            // log a (x^p) = p * log a (x)\n            // x^p = a ^ (p * log a (x))\n            // 10^p = e ^ (p * log e (10))\n            var maxY = this._maximumChannelValueY;\n            var minY = this._minimumChannelValueY;\n            return y <= maxY ? 100 : y > minY ? 0 : Math.exp(Equalizer._lerp(maxY, 2, minY, -2, y) * Math.LN10); // 2 = 40dB/20\n        }\n    }, {\n        key: 'magnitudeToY',\n        value: function magnitudeToY(magnitude) {\n            // 40dB = 100\n            // -40dB = 0.01\n            var zcy = this._zeroChannelValueY;\n            return magnitude >= 100 ? this._maximumChannelValueY : magnitude < 0.01 ? this._options.validYRangeHeight + 1 : Math.round(zcy - zcy * Math.log(magnitude) / Math.LN10 * 0.5 - 0.4);\n        }\n    }, {\n        key: 'visibleBinToZoneIndex',\n        value: function visibleBinToZoneIndex(visibleBinIndex) {\n            if (visibleBinIndex >= this._options.visibleBinCount - 1) {\n                return this._equivalentZones.length - 1;\n            } else if (visibleBinIndex > 0) {\n                var z = this._equivalentZonesFrequencyCount;\n                for (var i = z.length - 1; i >= 0; i--) {\n                    if (visibleBinIndex >= z[i]) {\n                        return i;\n                    }\n                }\n            }\n            return 0;\n        }\n    }, {\n        key: 'visibleBinToFrequency',\n        value: function visibleBinToFrequency(visibleBinIndex) {\n            var vf = this._visibleFrequencies;\n            var vbc = this._options.visibleBinCount;\n            if (visibleBinIndex >= vbc - 1) {\n                return vf[vbc - 1];\n            } else if (visibleBinIndex > 0) {\n                return vf[visibleBinIndex];\n            }\n            return vf[0];\n        }\n    }, {\n        key: 'visibleBinToFrequencyGroup',\n        value: function visibleBinToFrequencyGroup(visibleBinIndex) {\n            var ez = this._equivalentZones;\n            var vf = this._visibleFrequencies;\n            var vbc = this._options.visibleBinCount;\n            if (visibleBinIndex >= vbc - 1) {\n                return [Math.round(vf[vbc - 1]), Math.round(ez[ez.length - 1])];\n            } else if (visibleBinIndex > 0) {\n                var ezc = this._equivalentZonesFrequencyCount;\n                for (var i = ezc.length - 1; i >= 0; i--) {\n                    if (visibleBinIndex >= ezc[i]) {\n                        return [Math.round(vf[visibleBinIndex]), Math.round(ez[i])];\n                    }\n                }\n            }\n            return [Math.round(vf[0]), Math.round(ez[0])];\n        }\n    }, {\n        key: 'changeZoneY',\n        value: function changeZoneY(channelIndex, x, y) {\n            var i = this.visibleBinToZoneIndex(x);\n            var ii = this._equivalentZonesFrequencyCount[i + 1];\n            var cy = this.clampY(y);\n            var curve = this._channelCurves[channelIndex];\n            for (i = this._equivalentZonesFrequencyCount[i]; i < ii; i++) {\n                curve[i] = cy;\n            }\n        }\n    }, {\n        key: 'copyFilter',\n        value: function copyFilter(sourceChannel, destinationChannel) {\n            var src = this._filterKernel.getChannelData(sourceChannel);\n            var dst = this._filterKernel.getChannelData(destinationChannel);\n            for (var i = this._filterLength - 1; i >= 0; i--) {\n                dst[i] = src[i];\n            }\n            this._convolver.buffer = this._filterKernel;\n        }\n    }, {\n        key: 'updateFilter',\n        value: function updateFilter(updateBothChannels) {\n            var channelIndex = Math.max(this._channelIndex, 0);\n            var isSameFilterLR = channelIndex === -1;\n            var filterLength = this._filterLength;\n            var curve = this._channelCurves[channelIndex];\n            var valueCount = this._options.visibleBinCount;\n            var bw = this._sampleRate / filterLength;\n            var filterLength2 = filterLength >>> 1;\n            var filter = this._filterKernel.getChannelData(channelIndex);\n            var _visibleFrequencies = this._visibleFrequencies;\n            /* M = filterLength2, so, M_HALF_PI_FFTLEN2 = (filterLength2 * 0.5 * Math.PI) / filterLength2 */\n            var M_HALF_PI_FFTLEN2 = 0.5 * Math.PI;\n            var invMaxMag = 1;\n            var repeat = Number(this._isNormalized) + 1;\n            // fill in all filter points, either averaging or interpolating them as necessary\n            do {\n                repeat--;\n                var i = 1;\n                var ii = 0;\n                // tslint:disable-next-line:no-constant-condition\n                while (true) {\n                    var freq = bw * i;\n                    if (freq >= _visibleFrequencies[0]) {\n                        break;\n                    }\n                    var mag = this.yToMagnitude(curve[0]);\n                    filter[i << 1] = mag * invMaxMag;\n                    i++;\n                }\n                while (bw > _visibleFrequencies[ii + 1] - _visibleFrequencies[ii] && i < filterLength2 && ii < valueCount - 1) {\n                    var _freq = bw * i;\n                    var avg = 0;\n                    var avgCount = 0;\n                    do {\n                        avg += curve[ii];\n                        avgCount++;\n                        ii++;\n                    } while (_freq > _visibleFrequencies[ii] && ii < valueCount - 1);\n                    var _mag = this.yToMagnitude(avg / avgCount);\n                    filter[i << 1] = _mag * invMaxMag;\n                    i++;\n                }\n                for (; i < filterLength2; i++) {\n                    var _freq2 = bw * i;\n                    var _mag2 = void 0;\n                    if (_freq2 >= _visibleFrequencies[valueCount - 1]) {\n                        _mag2 = this.yToMagnitude(curve[valueCount - 1]);\n                    } else {\n                        while (ii < valueCount - 1 && _freq2 > _visibleFrequencies[ii + 1]) {\n                            ii++;\n                        }\n                        _mag2 = this.yToMagnitude(Equalizer._lerp(_visibleFrequencies[ii], curve[ii], _visibleFrequencies[ii + 1], curve[ii + 1], _freq2));\n                    }\n                    filter[i << 1] = _mag2 * invMaxMag;\n                }\n                // since DC and Nyquist are purely real, do not bother with them in the for loop,\n                // just make sure neither one has a gain greater than 0 dB\n                filter[0] = filter[2] >= 1 ? 1 : filter[2];\n                filter[1] = filter[filterLength - 2] >= 1 ? 1 : filter[filterLength - 2];\n                // convert the coordinates from polar to rectangular\n                for (i = filterLength - 2; i >= 2; i -= 2) {\n                    /*                -k.j\r\n                     * polar = Mag . e\r\n                     *\r\n                     * where:\r\n                     * k = (M / 2) * pi * i / (fft length / 2)\r\n                     * i = index varying from 0 to (fft length / 2)\r\n                     *\r\n                     * rectangular:\r\n                     * real = Mag . cos(-k)\r\n                     * imag = Mag . sin(-k)\r\n                     */\n                    var k = M_HALF_PI_FFTLEN2 * (i >>> 1);\n                    /* ****NOTE:\r\n                     * when using FFTReal ou FFTNR, k MUST BE passed as the argument of sin and cos, due to the\r\n                     * signal of the imaginary component\r\n                     * RFFT, intel and other fft's use the opposite signal... therefore, -k MUST BE passed!!\r\n                     */\n                    filter[i + 1] = filter[i] * Math.sin(k);\n                    filter[i] *= Math.cos(k);\n                }\n                __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__FFTNR__[\"a\" /* FFTReal */])(filter, filterLength, -1);\n                if (repeat) {\n                    // get the actual filter response, and then, compensate\n                    invMaxMag = this._applyWindowAndComputeActualMagnitudes(filter);\n                    if (invMaxMag <= 0) {\n                        repeat = 0;\n                    }\n                    invMaxMag = 1.0 / invMaxMag;\n                }\n            } while (repeat);\n            if (isSameFilterLR) {\n                // copy the filter to the other channel\n                this.copyFilter(channelIndex, 1 - channelIndex);\n                return;\n            }\n            if (updateBothChannels) {\n                // update the other channel as well\n                var oldChannelIndex = this._channelIndex;\n                this._channelIndex = 1 - channelIndex;\n                this.updateFilter(false);\n                this._channelIndex = oldChannelIndex;\n                return;\n            }\n            this._convolver.buffer = this._filterKernel;\n        }\n    }, {\n        key: 'updateActualChannelCurve',\n        value: function updateActualChannelCurve(channelIndex) {\n            var filterLength = this._filterLength;\n            var curve = this._actualChannelCurve;\n            var valueCount = this._options.visibleBinCount;\n            var bw = this._sampleRate / filterLength;\n            var filterLength2 = filterLength >>> 1;\n            var tmp = this._tmp;\n            var _visibleFrequencies = this._visibleFrequencies;\n            var filter = this._filterKernel.getChannelData(channelIndex);\n            this._applyWindowAndComputeActualMagnitudes(filter);\n            // tmp now contains (filterLength2 + 1) magnitudes\n            var i = 0;\n            var ii = 0;\n            while (ii < valueCount - 1 && i < filterLength2 && bw > _visibleFrequencies[ii + 1] - _visibleFrequencies[ii]) {\n                var freq = bw * i;\n                while (i < filterLength2 && freq + bw < _visibleFrequencies[ii]) {\n                    i++;\n                    freq = bw * i;\n                }\n                curve[ii] = this.magnitudeToY(Equalizer._lerp(freq, tmp[i], freq + bw, tmp[i + 1], _visibleFrequencies[ii]));\n                ii++;\n            }\n            i++;\n            while (i < filterLength2 && ii < valueCount) {\n                var _freq3 = void 0;\n                var avg = 0;\n                var avgCount = 0;\n                do {\n                    avg += tmp[i];\n                    avgCount++;\n                    i++;\n                    _freq3 = bw * i;\n                } while (_freq3 < _visibleFrequencies[ii] && i < filterLength2);\n                curve[ii] = this.magnitudeToY(avg / avgCount);\n                ii++;\n            }\n            i = this._sampleRate >>> 1 >= _visibleFrequencies[valueCount - 1] ? curve[ii - 1] : this._options.validYRangeHeight + 1;\n            for (; ii < valueCount; ii++) {\n                curve[ii] = i;\n            }\n        }\n    }, {\n        key: '_applyWindowAndComputeActualMagnitudes',\n        value: function _applyWindowAndComputeActualMagnitudes(filter) {\n            var filterLength = this._filterLength;\n            var tmp = this._tmp;\n            var filterLength2 = filterLength >>> 1;\n            var M = filterLength2;\n            var PI2_M = 2 * Math.PI / M;\n            // it is not possible to know what kind of window the browser will use,\n            // so make an assumption here... Blackman window!\n            // ...at least it is the one I used, back in C++ times :)\n            for (var i = M; i >= 0; i--) {\n                /* Hanning window */\n                // tmp[i] = filter[i] * (0.5 - (0.5 * cos(PI2_M * i)));\n                /* Hamming window */\n                // tmp[i] = filter[i] * (0.54 - (0.46 * cos(PI2_M * i)));\n                /* Blackman window */\n                tmp[i] = filter[i] * (0.42 - 0.5 * Math.cos(PI2_M * i) + 0.08 * Math.cos(2 * PI2_M * i));\n            }\n            for (var _i = filterLength - 1; _i > M; _i--) {\n                tmp[_i] = 0;\n            }\n            // calculate the spectrum\n            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__FFTNR__[\"a\" /* FFTReal */])(tmp, filterLength, 1);\n            // save Nyquist for later\n            var ii = tmp[1];\n            var maxMag = tmp[0] > ii ? tmp[0] : ii;\n            for (var _i2 = 2; _i2 < filterLength; _i2 += 2) {\n                var rval = tmp[_i2];\n                var ival = tmp[_i2 + 1];\n                var mag = Math.sqrt(rval * rval + ival * ival);\n                tmp[_i2 >>> 1] = mag;\n                if (mag > maxMag) {\n                    maxMag = mag;\n                }\n            }\n            // restore Nyquist in its new position\n            tmp[filterLength2] = ii;\n            return maxMag;\n        }\n    }, {\n        key: 'filterLength',\n\n        // virtual properties\n        get: function get() {\n            return this._filterLength;\n        },\n        set: function set(newFilterLength) {\n            if (this._filterLength !== newFilterLength) {\n                Equalizer._validateFilterLength(newFilterLength);\n                this._filterLength = newFilterLength;\n                this._binCount = (newFilterLength >>> 1) + 1;\n                this._filterKernel = this._audioContext.createBuffer(2, newFilterLength, this._sampleRate);\n                this._tmp = new Float32Array(newFilterLength);\n                this.updateFilter(true);\n            }\n        }\n    }, {\n        key: 'sampleRate',\n        get: function get() {\n            return this._sampleRate;\n        },\n        set: function set(newSampleRate) {\n            if (this.sampleRate !== newSampleRate) {\n                this._sampleRate = newSampleRate;\n                this._filterKernel = this._audioContext.createBuffer(2, this._filterLength, newSampleRate);\n                this.updateFilter(true);\n            }\n        }\n    }, {\n        key: 'isNormalized',\n        get: function get() {\n            return this._isNormalized;\n        },\n        set: function set(isNormalized) {\n            if (this.isNormalized !== isNormalized) {\n                this._isNormalized = isNormalized;\n                this.updateFilter(true);\n            }\n        }\n    }, {\n        key: 'audioContext',\n        get: function get() {\n            return this._audioContext;\n        },\n        set: function set(newAudioContext) {\n            if (this.audioContext !== newAudioContext) {\n                this._convolver.disconnect(0);\n                this._audioContext = newAudioContext;\n                this._filterKernel = newAudioContext.createBuffer(2, this._filterLength, this._sampleRate);\n                this._convolver = newAudioContext.createConvolver();\n                this._convolver.normalize = false;\n                this._convolver.buffer = this._filterKernel;\n                this.updateFilter(true);\n            }\n        }\n    }, {\n        key: 'options',\n        get: function get() {\n            return __WEBPACK_IMPORTED_MODULE_0_deep_assign___default()({}, defaultOptions, this._options);\n        }\n    }, {\n        key: 'visibleFrequencies',\n        get: function get() {\n            return this._visibleFrequencies;\n        }\n    }, {\n        key: 'channelCurves',\n        get: function get() {\n            return this._channelCurves.slice();\n        }\n    }, {\n        key: 'actualChannelCurve',\n        get: function get() {\n            return this._actualChannelCurve;\n        }\n    }, {\n        key: 'convolver',\n        get: function get() {\n            return this._convolver;\n        }\n    }, {\n        key: 'channelIndex',\n        get: function get() {\n            return this._channelIndex;\n        },\n        set: function set(newChannelIndex) {\n            this._channelIndex = newChannelIndex;\n        }\n    }, {\n        key: 'zeroChannelValueY',\n        get: function get() {\n            return this._zeroChannelValueY;\n        }\n    }, {\n        key: 'equivalentZonesFrequencyCount',\n        get: function get() {\n            return this._equivalentZonesFrequencyCount;\n        }\n    }], [{\n        key: '_validateFilterLength',\n        value: function _validateFilterLength(filterLength) {\n            if (filterLength < 8 || filterLength & filterLength - 1) {\n                throw new Error('The FFT size must be power of 2 and not less than 8.');\n            }\n        }\n    }, {\n        key: '_lerp',\n        value: function _lerp(x0, y0, x1, y1, x) {\n            return (x - x0) * (y1 - y0) / (x1 - x0) + y0;\n        }\n    }]);\n\n    return Equalizer;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = Equalizer;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export FFTComplex */\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = FFTReal;\n/**\r\n * canvas-equalizer is distributed under the FreeBSD License\r\n *\r\n * Copyright (c) 2012-2017 Armando Meziat, Carlos Rafael Gimenes das Neves\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice, this\r\n *    list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\r\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\r\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\r\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\r\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\r\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\r\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\r\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\r\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\r\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n * The views and conclusions contained in the software and documentation are those\r\n * of the authors and should not be interpreted as representing official policies,\r\n * either expressed or implied, of the FreeBSD Project.\r\n *\r\n * https://github.com/kantoradio/canvas-equalizer\r\n */\n/*==============================================================================\r\n *\r\n * This algorithm is an adaptation of the algorithm from the hardcover\r\n * book \"Numerical Recipes: The Art of Scientific Computing, 3rd Edition\",\r\n * with some additional optimizations and changes.\r\n *\r\n * I HIGHLY recommend this book!!! :D\r\n *\r\n *==============================================================================\r\n */\n/* Ordering of data\r\n * time [0]          | Real [bin 0]\r\n * time [1]          | Real [bin length/2]\r\n * time [2]          | Real [bin 1]\r\n * time [3]          | Imag [bin 1]\r\n * time [...]        | Real [bin ...]\r\n * time [...]        | Imag [bin ...]\r\n * time [length-2]   | Real [bin length/2-1]\r\n * time [length-1]   | Imag [bin length/2-1]\r\n */\n/* tslint:disable:no-magic-numbers no-bitwise */\n/**\r\n * canvas-equalizer is distributed under the FreeBSD License\r\n *\r\n * Copyright (c) 2012-2017 Armando Meziat, Carlos Rafael Gimenes das Neves\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice, this\r\n *    list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\r\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\r\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\r\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\r\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\r\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\r\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\r\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\r\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\r\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n * The views and conclusions contained in the software and documentation are those\r\n * of the authors and should not be interpreted as representing official policies,\r\n * either expressed or implied, of the FreeBSD Project.\r\n *\r\n * https://github.com/kantoradio/canvas-equalizer\r\n */function FFTComplex(data, n, isign) {\n    var nn = n << 1;\n    var mmax = void 0;\n    var m = void 0;\n    var j = 1;\n    var istep = void 0;\n    var i = void 0;\n    var wr = void 0;\n    var wpr = void 0;\n    var wpi = void 0;\n    var wi = void 0;\n    var theta = void 0;\n    var tempr = void 0;\n    var tempi = void 0;\n    var halfmmax = void 0;\n    var dj1 = void 0;\n    var dj = void 0;\n    // bit reversal swap\n    for (i = 1; i < nn; i += 2) {\n        if (j > i) {\n            tempr = data[j - 1];\n            data[j - 1] = data[i - 1];\n            data[i - 1] = tempr;\n            tempr = data[j];\n            data[j] = data[i];\n            data[i] = tempr;\n        }\n        m = n;\n        while (m >= 2 && j > m) {\n            j -= m;\n            m >>>= 1;\n        }\n        j += m;\n    }\n    // first pass (mmax = 2 / wr = 1 / wi = 0)\n    for (i = 1; i <= nn; i += 4) {\n        j = i + 2;\n        tempr = data[j - 1];\n        tempi = data[j];\n        data[j - 1] = data[i - 1] - tempr;\n        data[j] = data[i] - tempi;\n        data[i - 1] += tempr;\n        data[i] += tempi;\n    }\n    /* I decided not to unroll the following steps in favor of the cache memory\r\n     // second pass (mmax = 4 / wr = 1 / wi = 0) A\r\n    for (i = 1; i <= nn; i += 8) {\r\n        j = i + 4;\r\n        tempr = data[j - 1];\r\n        tempi = data[j];\r\n        data[j - 1] = data[i - 1] - tempr;\r\n        data[j] = data[i] - tempi;\r\n        data[i - 1] += tempr;\r\n        data[i] += tempi;\r\n    }\r\n     // second pass (mmax = 4 / wr = 0 / wi = isign) B\r\n    if (isign === 1) {\r\n        for (i = 3; i <= nn; i += 8) {\r\n            j = i + 4;\r\n            tempr = -data[j];\r\n            tempi = data[j - 1];\r\n            data[j - 1] = data[i - 1] - tempr;\r\n            data[j] = data[i] - tempi;\r\n            data[i - 1] += tempr;\r\n            data[i] += tempi;\r\n        }\r\n    }\r\n    else {\r\n        for (i = 3; i <= nn; i += 8) {\r\n            j = i + 4;\r\n            tempr = data[j];\r\n            tempi = -data[j - 1];\r\n            data[j - 1] = data[i - 1] - tempr;\r\n            data[j] = data[i] - tempi;\r\n            data[i - 1] += tempr;\r\n            data[i] += tempi;\r\n        }\r\n    }\r\n     mmax = 8;\r\n    theta = isign * Math.PI * 0.25;\r\n    */\n    mmax = 4;\n    theta = isign * Math.PI * 0.5;\n    while (nn > mmax) {\n        istep = mmax << 1;\n        wpi = Math.sin(theta);\n        theta *= 0.5;\n        wpr = Math.sin(theta);\n        wpr *= -2.0 * wpr;\n        // ---------------------------------------------\n        // special case for the inner loop when m = 1:\n        // wr = 1 / wi = 0\n        for (i = 1; i <= nn; i += istep) {\n            j = i + mmax;\n            tempr = data[j - 1];\n            tempi = data[j];\n            data[j - 1] = data[i - 1] - tempr;\n            data[j] = data[i] - tempi;\n            data[i - 1] += tempr;\n            data[i] += tempi;\n        }\n        wr = 1.0 + wpr;\n        wi = wpi;\n        // ---------------------------------------------\n        halfmmax = (mmax >>> 1) + 1;\n        for (m = 3; m < halfmmax; m += 2) {\n            for (i = m; i <= nn; i += istep) {\n                j = i + mmax;\n                tempr = wr * (dj1 = data[j - 1]) - wi * (dj = data[j]);\n                tempi = wr * dj + wi * dj1;\n                data[j - 1] = data[i - 1] - tempr;\n                data[j] = data[i] - tempi;\n                data[i - 1] += tempr;\n                data[i] += tempi;\n            }\n            wr += (tempr = wr) * wpr - wi * wpi;\n            wi += wi * wpr + tempr * wpi;\n        }\n        // ---------------------------------------------\n        // special case for the inner loop when m = ((mmax >>> 1) + 1):\n        // wr = 0 / wi = isign\n        if (isign === 1) {\n            for (i = m; i <= nn; i += istep) {\n                j = i + mmax;\n                tempr = -data[j];\n                tempi = data[j - 1];\n                data[j - 1] = data[i - 1] - tempr;\n                data[j] = data[i] - tempi;\n                data[i - 1] += tempr;\n                data[i] += tempi;\n            }\n            wr = -wpi;\n            wi = 1.0 + wpr;\n        } else {\n            for (i = m; i <= nn; i += istep) {\n                j = i + mmax;\n                tempr = data[j];\n                tempi = -data[j - 1];\n                data[j - 1] = data[i - 1] - tempr;\n                data[j] = data[i] - tempi;\n                data[i - 1] += tempr;\n                data[i] += tempi;\n            }\n            wr = wpi;\n            wi = -1.0 - wpr;\n        }\n        m += 2;\n        // ---------------------------------------------\n        for (; m < mmax; m += 2) {\n            for (i = m; i <= nn; i += istep) {\n                j = i + mmax;\n                tempr = wr * (dj1 = data[j - 1]) - wi * (dj = data[j]);\n                tempi = wr * dj + wi * dj1;\n                data[j - 1] = data[i - 1] - tempr;\n                data[j] = data[i] - tempi;\n                data[i - 1] += tempr;\n                data[i] += tempi;\n            }\n            wr += (tempr = wr) * wpr - wi * wpi;\n            wi += wi * wpr + tempr * wpi;\n        }\n        mmax = istep;\n    }\n}\nfunction FFTReal(data, n, isign) {\n    var i = void 0;\n    var i1 = void 0;\n    var i2 = void 0;\n    var i3 = void 0;\n    var i4 = void 0;\n    var d1 = void 0;\n    var d2 = void 0;\n    var d3 = void 0;\n    var d4 = void 0;\n    var n4 = n >>> 2;\n    var c2 = void 0;\n    var h1r = void 0;\n    var h1i = void 0;\n    var h2r = void 0;\n    var h2i = void 0;\n    var wr = void 0;\n    var wi = void 0;\n    var wpr = void 0;\n    var wpi = void 0;\n    var theta = Math.PI / (n >>> 1);\n    if (isign === 1) {\n        c2 = -0.5;\n        FFTComplex(data, n >>> 1, 1);\n    } else {\n        c2 = 0.5;\n        theta = -theta;\n    }\n    wpr = Math.sin(0.5 * theta);\n    wr = 1.0 + (wpr *= -2.0 * wpr);\n    wi = wpi = Math.sin(theta);\n    for (i = 1; i < n4; i++) {\n        i2 = 1 + (i1 = i << 1);\n        i4 = 1 + (i3 = n - i1);\n        h1r = 0.5 * ((d1 = data[i1]) + (d3 = data[i3]));\n        h1i = 0.5 * ((d2 = data[i2]) - (d4 = data[i4]));\n        h2r = -c2 * (d2 + d4);\n        h2i = c2 * (d1 - d3);\n        data[i1] = h1r + (d1 = wr * h2r) - (d2 = wi * h2i);\n        data[i2] = h1i + (d3 = wr * h2i) + (d4 = wi * h2r);\n        data[i3] = h1r - d1 + d2;\n        data[i4] = d3 + d4 - h1i;\n        wr += (h1r = wr) * wpr - wi * wpi;\n        wi += wi * wpr + h1r * wpi;\n    }\n    if (isign === 1) {\n        data[0] = (h1r = data[0]) + data[1];\n        data[1] = h1r - data[1];\n    } else {\n        data[0] = 0.5 * ((h1r = data[0]) + data[1]);\n        data[1] = 0.5 * (h1r - data[1]);\n        FFTComplex(data, n >>> 1, -1);\n        h1r = 2.0 / n;\n        for (i = n - 1; i >= 0; i--) {\n            data[i] *= h1r;\n        }\n    }\n}\n\n/***/ }),\n/* 7 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__locales_en_json__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__locales_en_json___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__locales_en_json__);\nvar _createClass = function () {\n    function defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n        }\n    }return function (Constructor, protoProps, staticProps) {\n        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n    };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n\n/**\r\n * canvas-equalizer is distributed under the FreeBSD License\r\n *\r\n * Copyright (c) 2012-2017 Armando Meziat, Carlos Rafael Gimenes das Neves\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice, this\r\n *    list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\r\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\r\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\r\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\r\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\r\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\r\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\r\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\r\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\r\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n * The views and conclusions contained in the software and documentation are those\r\n * of the authors and should not be interpreted as representing official policies,\r\n * either expressed or implied, of the FreeBSD Project.\r\n *\r\n * https://github.com/kantoradio/canvas-equalizer\r\n */\n\nvar defaultLanguage = 'en';\n\nvar L10n = function () {\n    function L10n() {\n        var language = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultLanguage;\n\n        _classCallCheck(this, L10n);\n\n        this._locales = {};\n        this._language = language;\n        this.loadLocale(defaultLanguage, __WEBPACK_IMPORTED_MODULE_0__locales_en_json___default.a);\n    }\n\n    _createClass(L10n, [{\n        key: 'loadLocale',\n        value: function loadLocale(language, locale) {\n            this._locales[language] = locale;\n        }\n    }, {\n        key: 'get',\n        value: function get(tag) {\n            var locales = this._locales[this._language] || this._locales[defaultLanguage];\n            if (locales[tag] === undefined) {\n                locales = this._locales[defaultLanguage];\n            }\n            return locales[tag];\n        }\n    }, {\n        key: 'format',\n        value: function format(str) {\n            var _this = this;\n\n            str = this.get(str);\n\n            for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n                args[_key - 1] = arguments[_key];\n            }\n\n            args.forEach(function (arg, i) {\n                str = str.replace(new RegExp('\\\\{' + i + '\\\\}', 'g'), arg.toLocaleString(_this._language));\n            });\n            return str;\n        }\n    }, {\n        key: 'language',\n        get: function get() {\n            return this._language;\n        },\n        set: function set(language) {\n            this._language = language;\n        }\n    }]);\n\n    return L10n;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = L10n;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nmodule.exports = function (x) {\n\tvar type = typeof x;\n\treturn x !== null && (type === 'object' || type === 'function');\n};\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t\"cursor.label\": \"Cursor: <span></span> dB\",\n\t\"curve.label\": \"Curve: <span></span> dB\",\n\t\"frequency.label\": \"Frequency: <span></span>\",\n\t\"frequency.text\": \"{0} ({1})\",\n\t\"frequency.format\": \"{0} {1}\",\n\t\"frequency.unit.Hz\": \"Hz\",\n\t\"frequency.unit.kHz\": \"kHz\",\n\t\"menu\": \"Options\",\n\t\"menu.both\": \"Same curve for both channels\",\n\t\"menu.both.left\": \"Use left curve\",\n\t\"menu.both.right\": \"Use right curve\",\n\t\"menu.one\": \"One curve for each channel\",\n\t\"menu.one.left\": \"Show left curve\",\n\t\"menu.one.right\": \"Show right curve\",\n\t\"menu.zones\": \"Show zones\",\n\t\"menu.zoneEdit\": \"Edit by zones\",\n\t\"menu.normalizeCurves\": \"Normalize curves\",\n\t\"menu.actualResponse\": \"Show actual response\"\n};\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// js/CanvasEqualizer.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c7e0d7768e5d442e672b","'use strict';\nvar isObj = require('is-obj');\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Sources cannot be null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction assignKey(to, from, key) {\n\tvar val = from[key];\n\n\tif (val === undefined || val === null) {\n\t\treturn;\n\t}\n\n\tif (hasOwnProperty.call(to, key)) {\n\t\tif (to[key] === undefined || to[key] === null) {\n\t\t\tthrow new TypeError('Cannot convert undefined or null to object (' + key + ')');\n\t\t}\n\t}\n\n\tif (!hasOwnProperty.call(to, key) || !isObj(val)) {\n\t\tto[key] = val;\n\t} else {\n\t\tto[key] = assign(Object(to[key]), from[key]);\n\t}\n}\n\nfunction assign(to, from) {\n\tif (to === from) {\n\t\treturn to;\n\t}\n\n\tfrom = Object(from);\n\n\tfor (var key in from) {\n\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\tassignKey(to, from, key);\n\t\t}\n\t}\n\n\tif (Object.getOwnPropertySymbols) {\n\t\tvar symbols = Object.getOwnPropertySymbols(from);\n\n\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\tassignKey(to, from, symbols[i]);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n}\n\nmodule.exports = function deepAssign(target) {\n\ttarget = toObject(target);\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tassign(target, arguments[s]);\n\t}\n\n\treturn target;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/deep-assign/index.js\n// module id = 0\n// module chunks = 0 1","/**\n * canvas-equalizer is distributed under the FreeBSD License\n *\n * Copyright (c) 2012-2017 Armando Meziat, Carlos Rafael Gimenes das Neves\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer.\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * The views and conclusions contained in the software and documentation are those\n * of the authors and should not be interpreted as representing official policies,\n * either expressed or implied, of the FreeBSD Project.\n *\n * https://github.com/kantoradio/canvas-equalizer\n */\n\nimport deepAssign from 'deep-assign';\n\nimport {\n    keyPressed,\n    elemCoords,\n    attachPointer, detachPointer, cancelEvent,\n    throttledFunction, addThrottledEvent, removeThrottledEvent,\n} from './Common';\n\nimport Equalizer from './Equalizer';\nimport L10n from './L10n';\n\nimport ICanvasEqualizerOptions from './ICanvasEqualizerOptions';\nimport ILocale from './ILocale';\n\nconst defaultOptions: ICanvasEqualizerOptions = {\n    classNamespace: 'GE',\n    filterOptions: {},\n    updateFilterOnDrag: true,\n};\n\nexport default class CanvasEqualizer {\n\n    private _options: ICanvasEqualizerOptions;\n    private _filter: Equalizer;\n    private _element: HTMLElement;\n    private _canvas: HTMLCanvasElement;\n    private _ctx: CanvasRenderingContext2D;\n    private _rangeImage: CanvasGradient;\n    private _btnMnu: HTMLButtonElement;\n    private _mnu: HTMLElement;\n    private _mnuChBL: HTMLButtonElement;\n    private _mnuChL: HTMLButtonElement;\n    private _mnuChBR: HTMLButtonElement;\n    private _mnuChR: HTMLButtonElement;\n    private _mnuShowZones: HTMLButtonElement;\n    private _mnuEditZones: HTMLButtonElement;\n    private _mnuNormalizeCurves: HTMLButtonElement;\n    private _mnuShowActual: HTMLButtonElement;\n    private _lblCursor: HTMLElement;\n    private _lblCurve: HTMLElement;\n    private _lblFrequency: HTMLElement;\n    private _stb: HTMLElement;\n    private _showZones = false;\n    private _editZones = false;\n    private _isActualChannelCurveNeeded = true;\n    private _currentChannelIndex = 0;\n    private _isSameFilterLR = true;\n    private _drawingMode = 0;\n    private _lastDrawX = 0;\n    private _lastDrawY = 0;\n    private _barHideTimeout: number;\n    private _l10n: L10n;\n    private _isRTL = false;\n\n    constructor(filterLength: number, audioContext: AudioContext, options: ICanvasEqualizerOptions = {}) {\n        this._options = deepAssign({}, defaultOptions, options);\n        this._filter = new Equalizer(filterLength, audioContext, this._options.filterOptions);\n        this._l10n = new L10n(this._options.language);\n    }\n\n    public createControl(placeholder: HTMLElement): HTMLCanvasElement {\n        if (!this._ctx) {\n            const createLabel = (name: string, content: string) => {\n                const lbl = document.createElement('div');\n                lbl.className = `${clsNS}LBL ${clsNS}LBL${name}`;\n                lbl.innerHTML = this._l10n.get(content);\n                return lbl;\n            };\n            const createMenuSep = () => {\n                const s = document.createElement('div');\n                s.className = `${clsNS}MNUSEP`;\n                s.setAttribute('role', 'separator');\n                return s;\n            };\n            const createMenuLabel = (text: string) => {\n                const l = document.createElement('div');\n                l.className = `${clsNS}MNULBL`;\n                l.textContent = this._l10n.get(text);\n                return l;\n            };\n            const createMenuItem = (text: string, checkable: boolean | string, checked: boolean,\n                                    clickHandler: (e?: MouseEvent) => any) => {\n                const i = document.createElement('button');\n                i.type = 'button';\n                i.className = `${clsNS}MNUIT ${clsNS}CLK`;\n\n                if (checkable) {\n                    if (typeof checkable === 'string') {\n                        i.dataset['radioGroup'] = checkable;\n                        i.setAttribute('role', 'menuitemradio');\n                    }\n                    else {\n                        i.setAttribute('role', 'menuitemcheckbox');\n                    }\n\n                    const s = document.createElement('span');\n                    s.textContent = typeof checkable === 'string' ? ' ' : ' ';\n                    i.appendChild(s);\n                    this._checkMenu(i, checked);\n                }\n                else {\n                    i.setAttribute('role', 'menuitem');\n                }\n\n                i.appendChild(document.createTextNode(this._l10n.get(text)));\n\n                if (clickHandler) {\n                    i.addEventListener('click', clickHandler);\n                }\n\n                i.addEventListener('mouseenter', () => {\n                    i.focus();\n                });\n                i.addEventListener('mouseleave', () => {\n                    i.blur();\n                });\n\n                return i;\n            };\n            const clsNS = this._options.classNamespace!;\n\n            this._element = placeholder;\n            placeholder.className = clsNS;\n\n            if (/\\bip(?:[ao]d|hone)\\b/i.test(navigator.userAgent) && !(window as any).MSStream) {\n                placeholder.classList.add(`${clsNS}IOS`);\n            }\n\n            if (getComputedStyle(placeholder).direction === 'rtl') {\n                placeholder.classList.add('RTL');\n                this._isRTL = true;\n            }\n\n            placeholder.addEventListener('contextmenu', cancelEvent);\n\n            this._stb = document.createElement('div');\n            this._stb.className = `${clsNS}STB`;\n            placeholder.appendChild(this._stb);\n\n            this._canvas = document.createElement('canvas');\n            this._canvas.className = `${clsNS}CNV`;\n            attachPointer(this._canvas, 'down', this._canvasMouseDown);\n            attachPointer(this._canvas, 'move', this._canvasMouseMove);\n            attachPointer(this._canvas, 'up', this._canvasMouseUp);\n            this._canvas.addEventListener('contextmenu', cancelEvent);\n            placeholder.appendChild(this._canvas);\n            addThrottledEvent(window, 'resize', this._windowResize);\n\n            const ctx = this._canvas.getContext('2d');\n\n            if (!ctx) {\n                throw new Error('Unable to get a 2D context.');\n            }\n\n            this._ctx = ctx;\n\n            this._stb.appendChild(this._lblCursor = createLabel('CSR', 'cursor.label'));\n            this._stb.appendChild(this._lblCurve = createLabel('CRV', 'curve.label'));\n            this._stb.appendChild(this._lblFrequency = createLabel('FRQ', 'frequency.label'));\n            this._setStatusBar(0, this._filter.zeroChannelValueY, this._filter.zeroChannelValueY);\n\n            this._btnMnu = document.createElement('button');\n            this._btnMnu.type = 'button';\n            this._btnMnu.className = `${clsNS}BTN ${clsNS}CLK`;\n            this._btnMnu.setAttribute('aria-haspopup', 'true');\n            this._btnMnu.setAttribute('aria-label', this._l10n.get('menu'));\n            this._btnMnu.addEventListener('click', this._btnMnuClick);\n            this._btnMnu.addEventListener('keydown', this._btnMnuKeyDown);\n            this._btnMnu.addEventListener('mouseenter', () => {\n                this._btnMnu.focus();\n            });\n            this._btnMnu.addEventListener('mouseleave', () => {\n                this._btnMnu.blur();\n            });\n            this._stb.appendChild(this._btnMnu);\n\n            this._mnu = document.createElement('div');\n            this._mnu.className = `${clsNS}MNU`;\n            this._mnu.setAttribute('role', 'menu');\n            this._mnu.addEventListener('keydown', this._mnuKeyDown);\n            this._mnu.appendChild(createMenuLabel('menu.both'));\n            this._mnu.appendChild(this._mnuChBL =\n                createMenuItem('menu.both.left', 'curve', true, this._mnuChBLClick));\n            this._mnu.appendChild(this._mnuChBR =\n                createMenuItem('menu.both.right', 'curve', false, this._mnuChBRClick));\n            this._mnu.appendChild(createMenuSep());\n            this._mnu.appendChild(createMenuLabel('menu.one'));\n            this._mnu.appendChild(this._mnuChL =\n                createMenuItem('menu.one.left', 'curve', false, this._mnuChLClick));\n            this._mnu.appendChild(this._mnuChR =\n                createMenuItem('menu.one.right', 'curve', false, this._mnuChRClick));\n            this._mnu.appendChild(createMenuSep());\n            this._mnu.appendChild(this._mnuShowZones =\n                createMenuItem('menu.zones', true, false, this._mnuShowZonesClick));\n            this._mnu.appendChild(this._mnuEditZones =\n                createMenuItem('menu.zoneEdit', true, false, this._mnuEditZonesClick));\n            this._mnu.appendChild(createMenuSep());\n            this._mnu.appendChild(this._mnuNormalizeCurves =\n                createMenuItem('menu.normalizeCurves', true, false, this._mnuNormalizeCurvesClick));\n            this._mnu.appendChild(this._mnuShowActual =\n                createMenuItem('menu.actualResponse', true, true, this._mnuShowActualClick));\n            this._stb.appendChild(this._mnu);\n            this._toggleMenu(false);\n\n            this._fixCanvasSize();\n            this._drawCurve();\n        }\n        return this._canvas;\n    }\n\n    public destroyControl() {\n        if (this._ctx) {\n            removeThrottledEvent(window, 'resize', this._windowResize);\n            delete this._canvas;\n            delete this._lblCursor;\n            delete this._lblCurve;\n            delete this._lblFrequency;\n            delete this._btnMnu;\n            delete this._mnu;\n            delete this._mnuChBL;\n            delete this._mnuChL;\n            delete this._mnuChBR;\n            delete this._mnuChR;\n            delete this._mnuShowZones;\n            delete this._mnuEditZones;\n            delete this._mnuNormalizeCurves;\n            delete this._mnuShowActual;\n            delete this._stb;\n            delete this._ctx;\n            delete this._rangeImage;\n            this._element.innerHTML = '';\n            delete this._element;\n            clearTimeout(this._barHideTimeout);\n        }\n    }\n\n    public reset() {\n        this._filter.reset();\n        this._drawCurve();\n    }\n\n    public loadLocale(language: string, locale: ILocale) {\n        this._l10n.loadLocale(language, locale);\n    }\n\n    /* tslint:disable:no-magic-numbers */\n    private _formatDB(dB: number): string {\n        if (dB < -40) {\n            dB = -Infinity;\n        }\n\n        const ret = dB.toLocaleString(this._l10n.language, { minimumFractionDigits: 2, maximumFractionDigits: 2 });\n        return dB < 0 ? ret.replace('-', '') : (dB === 0 ? '' + ret : '+' + ret);\n    }\n\n    private _formatFrequencyUnit = (frequency: number, compact: boolean): string => {\n        let unit = 'Hz';\n\n        if (compact) {\n            if (frequency >= 1000) {\n                unit = 'k' + unit;\n                frequency = frequency / 1000;\n            }\n        }\n\n        return this._l10n.format('frequency.format', frequency, this._l10n.get(`frequency.unit.${unit}`));\n    }\n\n    private _formatFrequency(frequencyAndEquivalent: number[]): string {\n        return this._l10n.format('frequency.text',\n            ...frequencyAndEquivalent.map((frequency: number, i: number) => this._formatFrequencyUnit(frequency, !!i)));\n    }\n    /* tslint:enable:no-magic-numbers */\n\n    private _checkMenu(mnu: HTMLButtonElement, chk: boolean) {\n\n        function inner(elem: HTMLElement, toggle: boolean) {\n            if (elem) {\n                elem.style.visibility = toggle ? 'visible' : 'hidden';\n                elem.setAttribute('aria-checked', toggle.toString());\n            }\n        }\n\n        if (chk && mnu.dataset['radioGroup']) {\n            [].slice.call(this._mnu.querySelectorAll(`[data-radio-group=\"${mnu.dataset['radioGroup']}\"]`))\n                .forEach((elem: HTMLButtonElement) => {\n                    inner(elem.firstChild as HTMLElement, false);\n                });\n        }\n\n        inner(mnu.firstChild as HTMLElement, chk);\n    }\n\n    private _drawCurve() {\n        /* tslint:disable:no-magic-numbers */\n        // all the 0.5's here are because of this explanation:\n        // http://stackoverflow.com/questions/195262/can-i-turn-off-antialiasing-on-an-html-canvas-element\n        // \"Draw your 1-pixel lines on coordinates like ctx.lineTo(10.5, 10.5). Drawing a one-pixel line\n        // over the point (10, 10) means, that this 1 pixel at that position reaches from 9.5 to 10.5 which\n        // results in two lines that get drawn on the canvas.\n        function pixelRound(x: number): number {\n            return Math.round(x) + middleOffset;\n        }\n\n        const ctx = this._ctx;\n        const canvas = this._canvas;\n        const pixelRatio = window.devicePixelRatio;\n        const width = canvas.width / pixelRatio;\n        const height = canvas.height / pixelRatio;\n        const widthRatio = this._widthRatio();\n        const heightRatio = this._heightRatio();\n        const widthMinus1 = this._filter.options.visibleBinCount! - 1;\n        const middleOffset = 0.5;\n        let curve = this._filter.channelCurves[this._currentChannelIndex];\n\n        if (!ctx) {\n            return false;\n        }\n\n        ctx.fillStyle = '#303030';\n        ctx.fillRect(0, 0, width, height);\n        ctx.lineWidth = 1;\n        ctx.strokeStyle = '#5a5a5a';\n        ctx.beginPath();\n        let x = width + 1 + middleOffset;\n        let y = pixelRound(this._filter.zeroChannelValueY * heightRatio);\n        ctx.moveTo(x, y);\n\n        while (x > 0) {\n            ctx.lineTo(x - 4, y);\n            x -= 10;\n            ctx.moveTo(x, y);\n        }\n\n        ctx.stroke();\n        ctx.font = 'bold 10pt Verdana';\n        ctx.textAlign = this._isRTL ? 'left' : 'right';\n        ctx.fillStyle = '#5a5a5a';\n        ctx.fillText('\\u200e0dB', this._isRTL ? 1 : width - 1,\n            Math.round(this._filter.zeroChannelValueY * heightRatio) - 2);\n        ctx.beginPath();\n        x = width - 1 - middleOffset;\n        y = pixelRound(this._filter.options.validYRangeHeight! * heightRatio);\n        ctx.moveTo(x, y);\n\n        while (x > 0) {\n            ctx.lineTo(x - 4, y);\n            x -= 10;\n            ctx.moveTo(x, y);\n        }\n\n        ctx.stroke();\n        ctx.fillText('\\u200edB', this._isRTL ? 1 : width - 1,\n            Math.round(this._filter.options.validYRangeHeight! * heightRatio) - 2);\n\n        if (this._showZones) {\n            for (let i = this._filter.equivalentZonesFrequencyCount.length - 2; i > 0; i--) {\n                x = pixelRound(this._filter.equivalentZonesFrequencyCount[i] * widthRatio);\n                y = 0;\n                ctx.beginPath();\n                ctx.moveTo(x, y);\n\n                while (y < height) {\n                    ctx.lineTo(x, y + 4);\n                    y += 10;\n                    ctx.moveTo(x, y);\n                }\n\n                ctx.stroke();\n            }\n        }\n\n        ctx.strokeStyle = this._isActualChannelCurveNeeded && !this._drawingMode ? '#707070' : this._rangeImage;\n        ctx.beginPath();\n        ctx.moveTo(0.5, pixelRound(curve[0] * heightRatio));\n\n        for (x = 1; x < widthMinus1; x++) {\n            ctx.lineTo(pixelRound(x * widthRatio), pixelRound(curve[x] * heightRatio));\n        }\n\n        // just to fill up the last pixel!\n        ctx.lineTo(Math.round(x * widthRatio) + 1, pixelRound(curve[x] * heightRatio));\n        ctx.stroke();\n\n        if (this._isActualChannelCurveNeeded && !this._drawingMode) {\n            curve = this._filter.actualChannelCurve;\n            ctx.strokeStyle = this._rangeImage;\n            ctx.beginPath();\n            ctx.moveTo(middleOffset, pixelRound(curve[0] * heightRatio));\n\n            for (x = 1; x < widthMinus1; x++) {\n                ctx.lineTo(pixelRound(x * widthRatio),\n                    pixelRound(curve[x] * heightRatio));\n            }\n\n            // just to fill up the last pixel!\n            ctx.lineTo(Math.round(x * widthRatio) + 1, pixelRound(curve[x] * heightRatio));\n            ctx.stroke();\n        }\n\n        return true;\n        /* tslint:enable:no-magic-numbers */\n    }\n\n    private _widthRatio(): number {\n        return this._canvas.width / window.devicePixelRatio / this._filter.options.visibleBinCount!;\n    }\n\n    private _heightRatio(): number {\n        const height = this._stb.clientHeight;\n        // tslint:disable-next-line:no-magic-numbers\n        return (this._canvas.height / window.devicePixelRatio - height - 5) / this._filter.options.validYRangeHeight!;\n    }\n\n    private _fixCanvasSize() {\n        this._canvas.style.display = 'none';\n        const rect = this._element.getBoundingClientRect();\n        const pixelRatio = window.devicePixelRatio;\n        this._canvas.style.display = '';\n        this._canvas.style.width = rect.width + 'px';\n        this._canvas.style.height = rect.height + 'px';\n        this._canvas.width = rect.width * pixelRatio;\n        this._canvas.height = rect.height * pixelRatio;\n\n        this._ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n\n        /* tslint:disable:no-magic-numbers */\n        this._rangeImage = this._ctx.createLinearGradient(0, 0, 0, rect.height - this._stb.clientHeight - 5);\n        this._rangeImage.addColorStop(0, '#ff0000');\n        this._rangeImage.addColorStop(0.1875, '#ffff00');\n        this._rangeImage.addColorStop(0.39453125, '#00ff00');\n        this._rangeImage.addColorStop(0.60546875, '#00ffff');\n        this._rangeImage.addColorStop(0.796875, '#0000ff');\n        this._rangeImage.addColorStop(1, '#ff00ff');\n        /* tslint:enable:no-magic-numbers */\n\n        this._drawCurve();\n    }\n\n    private _wrappedUpdateFilter = () => {\n        this._filter.updateFilter(false);\n    }\n\n    private _setLabelParam(label: HTMLElement, text: string) {\n        const span = label.querySelector('span');\n\n        if (span) {\n            span.textContent = text;\n        }\n    }\n\n    private _setStatusBar(x: number, y: number, curveY: number) {\n        this._setLabelParam(this._lblCursor, this._formatDB(this._filter.yToDB(y)));\n        this._setLabelParam(this._lblCurve, this._formatDB(this._filter.yToDB(curveY)));\n        this._setLabelParam(this._lblFrequency, this._formatFrequency(this._filter.visibleBinToFrequencyGroup(x)));\n    }\n\n    private _toggleMenu(toggle?: boolean) {\n        toggle = toggle === undefined ? this._mnu.style.display === 'none' : toggle;\n\n        this._mnu.style.display = toggle ? '' : 'none';\n        this._btnMnu.textContent = toggle ? '' : '';\n    }\n\n    // events\n\n    private _btnMnuClick = (e: MouseEvent) => {\n        if (!e.button) {\n            this._toggleMenu();\n        }\n    }\n\n    private _mnuChBLClick = (e: MouseEvent) => {\n        this._mnuChBClick(e, 0);\n    }\n\n    private _mnuChBRClick = (e: MouseEvent) => {\n        this._mnuChBClick(e, 1);\n    }\n\n    private _mnuChBClick = (e: MouseEvent, channelIndex: number) => {\n        if (!e.button) {\n            if (!this._isSameFilterLR || this._currentChannelIndex !== channelIndex) {\n                if (this._isSameFilterLR) {\n                    this._currentChannelIndex = channelIndex;\n                    this._filter.channelIndex = -1;\n                    this._filter.updateFilter(true);\n\n                    if (this._isActualChannelCurveNeeded) {\n                        this._filter.updateActualChannelCurve(channelIndex);\n                    }\n\n                    this._drawCurve();\n                }\n                else {\n                    this._isSameFilterLR = true;\n                    this._filter.copyFilter(channelIndex, 1 - channelIndex);\n                    if (this._currentChannelIndex !== channelIndex) {\n                        this._currentChannelIndex = channelIndex;\n\n                        if (this._isActualChannelCurveNeeded) {\n                            this._filter.updateActualChannelCurve(channelIndex);\n                        }\n\n                        this._drawCurve();\n                    }\n                }\n\n                this._checkMenu(this._mnuChBL, channelIndex === 0);\n                this._checkMenu(this._mnuChBR, channelIndex === 1);\n            }\n        }\n    }\n\n    private _mnuChLClick = (e: MouseEvent) => {\n        this._mnuChLRClick(e, 0);\n    }\n\n    private _mnuChRClick = (e: MouseEvent) => {\n        this._mnuChLRClick(e, 1);\n    }\n\n    private _mnuChLRClick = (e: MouseEvent, channelIndex: number) => {\n        if (!e.button) {\n            if (this._isSameFilterLR || this._currentChannelIndex !== channelIndex) {\n                if (this._isSameFilterLR) {\n                    this._isSameFilterLR = false;\n                    this._filter.channelIndex = 1 - this._currentChannelIndex;\n                    this._filter.updateFilter(false);\n                }\n\n                if (this._currentChannelIndex !== channelIndex) {\n                    this._currentChannelIndex = channelIndex;\n\n                    if (this._isActualChannelCurveNeeded) {\n                        this._filter.updateActualChannelCurve(channelIndex);\n                    }\n\n                    this._drawCurve();\n                }\n\n                this._checkMenu(this._mnuChL, channelIndex === 0);\n                this._checkMenu(this._mnuChR, channelIndex === 1);\n            }\n        }\n    }\n\n    private _mnuShowZonesClick = (e: MouseEvent) => {\n        if (!e.button) {\n            this._showZones = !this._showZones;\n            this._checkMenu(this._mnuShowZones, this._showZones);\n            this._drawCurve();\n        }\n    }\n\n    private _mnuEditZonesClick = (e: MouseEvent) => {\n        if (!e.button) {\n            this._editZones = !this._editZones;\n            this._canvas.classList[this._editZones ? 'add' : 'remove'](`${this._options.classNamespace}CNVZON`);\n            this._checkMenu(this._mnuEditZones, this._editZones);\n        }\n    }\n\n    private _mnuNormalizeCurvesClick = (e: MouseEvent) => {\n        if (!e.button) {\n            this._filter.isNormalized = !this._filter.isNormalized;\n            this._checkMenu(this._mnuNormalizeCurves, this._filter.isNormalized);\n\n            if (this._isActualChannelCurveNeeded) {\n                this._filter.updateActualChannelCurve(this._currentChannelIndex);\n                this._drawCurve();\n            }\n        }\n    }\n\n    private _mnuShowActualClick = (e: MouseEvent) => {\n        if (!e.button) {\n            this._isActualChannelCurveNeeded = !this._isActualChannelCurveNeeded;\n            this._checkMenu(this._mnuShowActual, this._isActualChannelCurveNeeded);\n\n            if (this._isActualChannelCurveNeeded) {\n                this._filter.updateActualChannelCurve(this._currentChannelIndex);\n            }\n\n            this._drawCurve();\n        }\n    }\n\n    private _btnMnuKeyDown = (e: KeyboardEvent) => {\n        if (keyPressed(e, 'ArrowUp', 'ArrowDown')) {\n            cancelEvent(e);\n            this._toggleMenu(keyPressed(e, 'ArrowUp'));\n\n            window.setTimeout(() => {\n                const items = this._mnu.querySelectorAll(`.${this._options.classNamespace!}MNUIT`);\n                (items[items.length - 1] as HTMLButtonElement).focus();\n            });\n        }\n    }\n\n    private _mnuKeyDown = (e: KeyboardEvent) => {\n\n        const moveFocus = (elem: Node, down: boolean) => {\n            const siblingProp = down ? 'nextSibling' : 'previousSibling';\n            let currentElem: Node | null = elem;\n\n            do {\n                currentElem = currentElem[siblingProp];\n\n                if (currentElem instanceof HTMLButtonElement &&\n                    currentElem.classList.contains(`${this._options.classNamespace!}MNUIT`)) {\n                    currentElem.focus();\n                    return true;\n                }\n            } while (currentElem);\n\n            return false;\n        };\n\n        if (keyPressed(e, 'ArrowUp', 'ArrowDown')) {\n            cancelEvent(e);\n            const down = keyPressed(e, 'ArrowDown');\n            if (!moveFocus(e.target as Node, down) && down) {\n                this._btnMnu.focus();\n            }\n        }\n    }\n\n    private _canvasMouseDown = (e: MouseEvent) => {\n        if (!e.button) {\n            if (!this._drawingMode) {\n                const { x, y } = elemCoords(this._canvas, e);\n\n                const normX = Math.floor(x / this._widthRatio());\n                const normY = y / this._heightRatio();\n\n                if (normX >= 0 && normX < this._filter.options.visibleBinCount!) {\n                    this._drawingMode = 1;\n                    if (this._editZones) {\n                        this._filter.changeZoneY(this._currentChannelIndex, normX, normY);\n                    }\n                    else {\n                        this._filter.channelCurves[this._currentChannelIndex][normX] = this._filter.clampY(normY);\n                        this._lastDrawX = normX;\n                        this._lastDrawY = normY;\n                    }\n\n                    this._drawCurve();\n\n                    if (this._canvas.setPointerCapture) {\n                        this._canvas.setPointerCapture((e as PointerEvent).pointerId);\n                    }\n                    else if (!(e as any).clonedFromTouch) {\n                        detachPointer(this._canvas, 'move', this._canvasMouseMove);\n                        detachPointer(this._canvas, 'up', this._canvasMouseUp);\n                        attachPointer(document, 'move', this._documentMouseMove, true);\n                        attachPointer(document, 'up', this._documentMouseUp, true);\n                    }\n                }\n            }\n\n            return cancelEvent(e);\n        }\n\n        return true;\n    }\n\n    private _canvasMouseUp = (e: MouseEvent) => {\n        if (this._drawingMode) {\n            this._drawingMode = 0;\n            this._filter.channelIndex = this._currentChannelIndex;\n            this._filter.updateFilter(false);\n\n            if (this._isActualChannelCurveNeeded) {\n                this._filter.updateActualChannelCurve(this._currentChannelIndex);\n            }\n\n            this._drawCurve();\n\n            if (this._canvas.releasePointerCapture) {\n                this._canvas.releasePointerCapture((e as PointerEvent).pointerId);\n            }\n            else if (!(e as any).clonedFromTouch) {\n                detachPointer(document, 'move', this._documentMouseMove, true);\n                detachPointer(document, 'up', this._documentMouseUp, true);\n                attachPointer(this._canvas, 'move', this._canvasMouseMove);\n                attachPointer(this._canvas, 'up', this._canvasMouseUp);\n            }\n        }\n    }\n\n    private _canvasMouseMove = (e: MouseEvent) => {\n        let curve = this._filter.channelCurves[this._currentChannelIndex];\n        const { x, y } = elemCoords(this._canvas, e);\n\n        if (this._drawingMode || (x >= 0 && x < this._canvas.width && y >= 0 && y < this._canvas.height)) {\n            let normX = Math.floor(x / this._widthRatio());\n            let normY = y / this._heightRatio();\n\n            if (normX < 0) {\n                normX = 0;\n            }\n            else if (normX >= this._filter.options.visibleBinCount!) {\n                normX = this._filter.options.visibleBinCount! - 1;\n            }\n\n            if (this._drawingMode) {\n                if (this._editZones) {\n                    this._filter.changeZoneY(this._currentChannelIndex, normX, normY);\n                }\n                else {\n                    if (Math.abs(normX - this._lastDrawX) > 1) {\n                        const delta = (normY - this._lastDrawY) / Math.abs(normX - this._lastDrawX);\n                        const inc = ((normX < this._lastDrawX) ? -1 : 1);\n                        normY = this._lastDrawY + delta;\n                        let count = Math.abs(normX - this._lastDrawX) - 1;\n\n                        for (normX = this._lastDrawX + inc; count > 0; normX += inc, count--) {\n                            curve[normX] = this._filter.clampY(normY);\n                            normY += delta;\n                        }\n                    }\n\n                    curve[normX] = this._filter.clampY(normY);\n                    this._lastDrawX = normX;\n                    this._lastDrawY = normY;\n                }\n                this._drawCurve();\n\n                if (this._options.updateFilterOnDrag) {\n                    // tslint:disable-next-line:no-magic-numbers\n                    throttledFunction(this._wrappedUpdateFilter, 150);\n                }\n            }\n            else if (this._isActualChannelCurveNeeded) {\n                curve = this._filter.actualChannelCurve;\n            }\n\n            this._setStatusBar(normX, normY, curve[normX]);\n\n            if (this._drawingMode) {\n                return cancelEvent(e);\n            }\n        }\n\n        return true;\n    }\n\n    private _windowResize = () => {\n        this._fixCanvasSize();\n    }\n\n    private _documentMouseMove = (e: MouseEvent) =>\n        this._canvasMouseMove(e);\n\n    private _documentMouseUp = (e: MouseEvent) => {\n        this._canvasMouseUp(e);\n    }\n\n    // virtual properties\n\n    get options(): ICanvasEqualizerOptions {\n        return deepAssign({}, defaultOptions, this._options);\n    }\n\n    get filterLength(): number {\n        return this._filter.filterLength;\n    }\n\n    set filterLength(newFilterLength: number) {\n        if (this._filter.filterLength !== newFilterLength) {\n            this._filter.filterLength = newFilterLength;\n\n            if (this._isActualChannelCurveNeeded) {\n                this._filter.updateActualChannelCurve(this._currentChannelIndex);\n            }\n\n            this._drawCurve();\n        }\n    }\n\n    get sampleRate(): number {\n        return this._filter.sampleRate;\n    }\n\n    set sampleRate(newSampleRate: number) {\n        if (this._filter.sampleRate !== newSampleRate) {\n            this._filter.sampleRate = newSampleRate;\n\n            if (this._isActualChannelCurveNeeded) {\n                this._filter.updateActualChannelCurve(this._currentChannelIndex);\n            }\n\n            this._drawCurve();\n        }\n    }\n\n    get audioContext(): AudioContext {\n        return this._filter.audioContext;\n    }\n\n    set audioContext(newAudioContext: AudioContext) {\n        if (this._filter.audioContext !== newAudioContext) {\n            this._filter.audioContext = newAudioContext;\n        }\n    }\n\n    get language(): string {\n        return this._l10n.language;\n    }\n\n    set language(language: string) {\n        this._l10n.language = language;\n    }\n\n    get visibleFrequencies(): Float32Array {\n        return this._filter.visibleFrequencies;\n    }\n\n    get convolver(): ConvolverNode {\n        return this._filter.convolver;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./ts/CanvasEqualizer.ts","/**\n * canvas-equalizer is distributed under the FreeBSD License\n *\n * Copyright (c) 2012-2017 Armando Meziat, Carlos Rafael Gimenes das Neves\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer.\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * The views and conclusions contained in the software and documentation are those\n * of the authors and should not be interpreted as representing official policies,\n * either expressed or implied, of the FreeBSD Project.\n *\n * https://github.com/kantoradio/canvas-equalizer\n */\n\n// this is needed as per https://gist.github.com/iamakulov/966b91c0fc6363a16ff0650b51fb991b\n// tslint:disable-next-line:no-require-imports\nmodule.exports = require('./CanvasEqualizer').default;\n\n\n\n// WEBPACK FOOTER //\n// ./ts/index.ts","/**\n * canvas-equalizer is distributed under the FreeBSD License\n *\n * Copyright (c) 2012-2017 Armando Meziat, Carlos Rafael Gimenes das Neves\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer.\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * The views and conclusions contained in the software and documentation are those\n * of the authors and should not be interpreted as representing official policies,\n * either expressed or implied, of the FreeBSD Project.\n *\n * https://github.com/kantoradio/canvas-equalizer\n */\n\n// miscellaneous functions\n\n(function (window: Window) {\n    try {\n        new CustomEvent('test');\n    }\n    catch (e) {\n        return; // no need to polyfill\n    }\n\n    // polyfills DOM4 CustomEvent\n    function MouseEvent(eventType: string, params: MouseEventInit) {\n        params = params || { bubbles: false, cancelable: false };\n        const mouseEvent = document.createEvent('MouseEvent');\n        mouseEvent.initMouseEvent(eventType, params.bubbles!, params.cancelable!, window, 1,\n                                  params.screenX!, params.screenY!, params.clientX!, params.clientY!,\n                                  params.ctrlKey!, params.altKey!, params.shiftKey!, params.metaKey!,\n                                  0, null);\n\n        return mouseEvent;\n    }\n\n    MouseEvent.prototype = Event.prototype;\n\n    (window as any).MouseEvent = MouseEvent;\n})(window);\n\ntype PointerEventShortName = 'down' | 'move' | 'up';\ntype AttachDetachSignature = (observable: EventTarget, eventName: PointerEventShortName,\n                              targetFunction: (e: MouseEvent) => any, capturePhase?: boolean) => void;\n\nlet attachPointer: AttachDetachSignature;\nlet detachPointer: AttachDetachSignature;\n\nfunction wrap(func: any, wrapper: any, tag: string, elem: EventTarget): any {\n    const wrapperTag = `__${tag}_wrapper__`;\n\n    if (!func[wrapperTag]) {\n        func[wrapperTag] = [];\n    }\n\n    unwrap(func, tag, elem);\n    func[wrapperTag].push({ elem, wrapper });\n    return wrapper;\n}\n\nfunction unwrap(func: any, tag: string, elem: EventTarget): any {\n    const wrapperTag = `__${tag}_wrapper__`;\n\n    let ret: any;\n\n    if (func[wrapperTag]) {\n        func[wrapperTag] = func[wrapperTag].filter((entry: { elem: EventTarget, wrapper: any }, i: number) => {\n            if (entry.elem === elem) {\n                ret = entry.wrapper;\n                return false;\n            }\n\n            return true;\n        });\n    }\n\n    return ret;\n}\n\nif ((window as any).PointerEvent) {\n    attachPointer = function (observable: EventTarget, eventName: PointerEventShortName,\n                              targetFunction: (e: MouseEvent) => any, capturePhase?: boolean) {\n        observable.addEventListener(`pointer${eventName}`, targetFunction, capturePhase);\n    };\n    detachPointer = function (observable: EventTarget, eventName: PointerEventShortName,\n                              targetFunction: (e: MouseEvent) => any, capturePhase?: boolean) {\n        observable.removeEventListener(`pointer${eventName}`, targetFunction, capturePhase);\n    };\n}\nelse if ('ontouchend' in document) {\n    const mappings: any = {\n        down: ['start'],\n        move: ['move'],\n        up: ['end', 'cancel'],\n    };\n    attachPointer = function (observable: EventTarget, eventName: PointerEventShortName,\n                              targetFunction: (e: MouseEvent) => any, capturePhase?: boolean) {\n        const wrapper = (e: TouchEvent) => {\n            const touch = e.changedTouches[0];\n            const pseudoMouse = new MouseEvent(`mouse${eventName}`, {\n                altKey: e.altKey,\n                clientX: touch && touch.clientX || 0,\n                clientY: touch && touch.clientY || 0,\n                ctrlKey: e.ctrlKey,\n                metaKey: e.metaKey,\n                screenX: touch && touch.screenX || 0,\n                screenY: touch && touch.screenY || 0,\n                shiftKey: e.shiftKey,\n            });\n\n            (pseudoMouse as any).clonedFromTouch = true;\n\n            const result = targetFunction(pseudoMouse);\n\n            if (result === false || pseudoMouse.defaultPrevented) {\n                cancelEvent(e);\n            }\n\n            return result;\n        };\n\n        mappings[eventName].forEach((mapping: string) => {\n            observable.addEventListener(`touch${mapping}`,\n                wrap(targetFunction, wrapper, `touch${eventName}`, observable), capturePhase);\n        });\n    };\n    detachPointer = function (observable: EventTarget, eventName: PointerEventShortName,\n                              targetFunction: (e: MouseEvent) => any, capturePhase?: boolean) {\n        mappings[eventName].forEach((mapping: string) => {\n            observable.removeEventListener(`touch${mapping}`,\n                unwrap(targetFunction, `touch${eventName}`, observable), capturePhase);\n        });\n    };\n}\nelse {\n    attachPointer = function (observable: EventTarget, eventName: PointerEventShortName,\n                              targetFunction: (e: MouseEvent) => any, capturePhase?: boolean) {\n        observable.addEventListener(`mouse${eventName}`, targetFunction, capturePhase);\n    };\n    detachPointer = function (observable: EventTarget, eventName: PointerEventShortName,\n                              targetFunction: (e: MouseEvent) => any, capturePhase?: boolean) {\n        observable.removeEventListener(`mouse${eventName}`, targetFunction, capturePhase);\n    };\n}\n\nconst runningFuncs: (() => void)[] = [];\n\nexport { attachPointer, detachPointer };\n\n/* tslint:disable:no-magic-numbers object-literal-sort-keys */\nexport const keyFix: any = {\n    Backspace: 8,\n    '\\t': ['Tab', 9],\n    '\\n': ['Enter', 13],\n    Escape: 27,\n    End: 35,\n    Home: 36,\n    ArrowLeft: 37,\n    ArrowUp: 38,\n    ArrowRight: 39,\n    ArrowDown: 40,\n    Delete: 46,\n};\n/* tslint:enable:no-magic-numbers object-literal-sort-keys */\n\nexport function keyPressed(e: KeyboardEvent, ...chars: string[]) {\n    for (let i = 0; i < chars.length; i++) {\n        const chr = chars[i];\n        if (Object.keys(keyFix).indexOf(chr) !== -1) {\n            const [key, keyCode] = Array.isArray(keyFix[chr]) ? keyFix[chr] : [chr, keyFix[chr]];\n            if (e.key === key || e.keyCode === keyCode) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\n\nexport function cancelEvent(e: Event) {\n    e.preventDefault();\n    e.stopPropagation();\n    return false;\n}\n\nexport function throttledFunction(func: () => void, timeout?: number) {\n    if (runningFuncs.indexOf(func) === -1) {\n        runningFuncs.push(func);\n        const wrapper = () => {\n            func();\n            runningFuncs.splice(runningFuncs.indexOf(func), 1);\n        };\n\n        if (timeout) {\n            setTimeout(wrapper, timeout);\n        }\n        else {\n            requestAnimationFrame(wrapper);\n        }\n    }\n}\n\nexport function addThrottledEvent(observable: EventTarget,\n                                  eventName: string,\n                                  targetFunction: (e?: Event) => any,\n                                  capturePhase?: boolean) {\n    let running = false;\n    const wrapper = (e: Event) => {\n        if (!running) {\n            running = true;\n            requestAnimationFrame(() => {\n                targetFunction(e);\n                running = false;\n            });\n        }\n    };\n\n    observable.addEventListener(eventName,\n        wrap(targetFunction, wrapper, `throttle${eventName}`, observable), capturePhase);\n}\n\nexport function removeThrottledEvent(observable: EventTarget,\n                                     eventName: string,\n                                     targetFunction: (e?: Event) => any,\n                                     capturePhase?: boolean) {\n    observable.removeEventListener(eventName,\n        unwrap(targetFunction, `throttle${eventName}`, observable), capturePhase);\n}\n\nexport function elemCoords(elem: HTMLElement, e: MouseEvent): { x: number, y: number } {\n    const rect = elem.getBoundingClientRect();\n    return {\n        x: e.clientX - rect.left,\n        y: e.clientY - rect.top,\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./ts/Common.ts","/**\n * canvas-equalizer is distributed under the FreeBSD License\n *\n * Copyright (c) 2012-2017 Armando Meziat, Carlos Rafael Gimenes das Neves\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer.\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * The views and conclusions contained in the software and documentation are those\n * of the authors and should not be interpreted as representing official policies,\n * either expressed or implied, of the FreeBSD Project.\n *\n * https://github.com/kantoradio/canvas-equalizer\n */\n\n/* tslint:disable:no-magic-numbers no-bitwise */\n\nimport deepAssign from 'deep-assign';\nimport { FFTReal } from './FFTNR';\nimport IEqualizerOptions from './IEqualizerOptions';\n\nconst defaultOptions: IEqualizerOptions = {\n    validYRangeHeight: 255,\n    visibleBinCount: 512,\n};\n\nexport default class Equalizer {\n\n    private _options: IEqualizerOptions;\n    private _visibleFrequencies: Float32Array;\n    private _equivalentZones: Uint16Array;\n    private _equivalentZonesFrequencyCount: Float32Array;\n    private _zeroChannelValueY: number;\n    private _maximumChannelValue: number;\n    private _minimumChannelValue: number;\n    private _minusInfiniteChannelValue: number;\n    private _maximumChannelValueY: number;\n    private _minimumChannelValueY: number;\n    private _filterLength: number;\n    private _sampleRate: number;\n    private _isNormalized: boolean;\n    private _binCount: number;\n    private _audioContext: AudioContext;\n    private _filterKernel: AudioBuffer;\n    private _convolver: ConvolverNode;\n    private _tmp: Float32Array;\n    private _channelCurves: Int16Array[];\n    private _actualChannelCurve: Int16Array;\n    private _channelIndex: number;\n\n    constructor(filterLength: number, audioContext: AudioContext, options: IEqualizerOptions = {}) {\n        Equalizer._validateFilterLength(filterLength);\n\n        this._options = deepAssign({}, defaultOptions, options);\n        this._filterLength = filterLength;\n        this._sampleRate = audioContext.sampleRate || 44100;\n        this._isNormalized = false;\n        this._binCount = (filterLength >>> 1) + 1;\n        this._audioContext = audioContext;\n        this._filterKernel = audioContext.createBuffer(2, filterLength, this._sampleRate);\n        this._convolver = audioContext.createConvolver();\n        this._convolver.normalize = false;\n        this._convolver.buffer = this._filterKernel;\n        this._tmp = new Float32Array(filterLength);\n        this._channelCurves = [\n            new Int16Array(this._options.visibleBinCount!), new Int16Array(this._options.visibleBinCount!)];\n        this._actualChannelCurve = new Int16Array(this._options.visibleBinCount!);\n        this._channelIndex = -1;\n\n        this._zeroChannelValueY = this._options.validYRangeHeight! >>> 1;\n        this._maximumChannelValue = this._options.validYRangeHeight! >>> 1;\n        this._minimumChannelValue = -(this._options.validYRangeHeight! >>> 1);\n        this._minusInfiniteChannelValue = -(this._options.validYRangeHeight! >>> 1) - 1;\n        this._maximumChannelValueY = 0;\n        this._minimumChannelValueY = this._options.validYRangeHeight! - 1;\n\n        this._visibleFrequencies = new Float32Array(this._options.visibleBinCount!);\n        this._equivalentZones = new Uint16Array([31, 62, 125, 250, 500, 1000, 2000, 4000, 8000, 16000]);\n\n        /* [0, +9, +9, +18, +35, +36, +70, +72, +72, +72, visibleBinCount] */\n        let eqz = [0, 9, 18, 36, 71, 107, 177, 249, 321, 393, 512];\n        const ratio = this._options.visibleBinCount! / eqz[eqz.length - 1];\n        let freqSteps = [5, 5, 5, 5, 10, 10, 20, 40, 80, 89];\n        const firstFreqs = [5, 50, 95, 185, 360, 720, 1420, 2860, 5740, 11498];\n        let f = firstFreqs[0];\n\n        if (this._options.visibleBinCount! !== eqz[eqz.length - 1]) {\n            eqz = eqz.map((num: number) => Math.round(num * ratio));\n            freqSteps = freqSteps.map((num: number) => num / ratio);\n        }\n\n        this._equivalentZonesFrequencyCount = new Float32Array(eqz);\n\n        for (let i = 0, s = 0; i < this._options.visibleBinCount!; i++) {\n            this._visibleFrequencies[i] = f;\n            if (s !== eqz.length - 1 && s !== firstFreqs.length - 1 && i + 1 >= eqz[s + 1]) {\n                s++;\n                f = firstFreqs[s];\n            }\n            else {\n                f += freqSteps[s];\n            }\n        }\n\n        this.reset();\n    }\n\n    public reset() {\n        for (let i = this._options.visibleBinCount! - 1; i >= 0; i--) {\n            this._channelCurves[0][i] = this._zeroChannelValueY;\n            this._channelCurves[1][i] = this._zeroChannelValueY;\n            this._actualChannelCurve[i] = this._zeroChannelValueY;\n        }\n\n        this.updateFilter(true);\n        this.updateActualChannelCurve(0);\n    }\n\n    public clampY(y: number): number {\n        const maxY = this._maximumChannelValueY;\n        const minY = this._minimumChannelValueY;\n\n        return y <= maxY ? maxY : (y > minY ? this._options.validYRangeHeight! + 1 : y);\n    }\n\n    public yToDB(y: number): number {\n        const maxY = this._maximumChannelValueY;\n        const minY = this._minimumChannelValueY;\n\n        return y <= maxY ? 40 : (y > minY ? -Infinity : Equalizer._lerp(maxY, 40, minY, -40, y));\n    }\n\n    public yToMagnitude(y: number): number {\n        // 40dB = 100\n        // -40dB = 0.01\n        // magnitude = 10 ^ (dB/20)\n        // log a (x^p) = p * log a (x)\n        // x^p = a ^ (p * log a (x))\n        // 10^p = e ^ (p * log e (10))\n        const maxY = this._maximumChannelValueY;\n        const minY = this._minimumChannelValueY;\n\n        return y <= maxY ? 100 :\n            (y > minY ? 0 : Math.exp(Equalizer._lerp(maxY, 2, minY, -2, y) * Math.LN10)); // 2 = 40dB/20\n    }\n\n    public magnitudeToY(magnitude: number): number {\n        // 40dB = 100\n        // -40dB = 0.01\n        const zcy = this._zeroChannelValueY;\n\n        return magnitude >= 100\n               ? this._maximumChannelValueY\n               : (magnitude < 0.01\n                  ? this._options.validYRangeHeight! + 1\n                  : Math.round((zcy - (zcy * Math.log(magnitude) / Math.LN10 * 0.5)) - 0.4));\n    }\n\n    public visibleBinToZoneIndex(visibleBinIndex: number): number {\n        if (visibleBinIndex >= (this._options.visibleBinCount! - 1)) {\n            return this._equivalentZones.length - 1;\n        }\n        else if (visibleBinIndex > 0) {\n            const z = this._equivalentZonesFrequencyCount;\n\n            for (let i = z.length - 1; i >= 0; i--) {\n                if (visibleBinIndex >= z[i]) {\n                    return i;\n                }\n            }\n        }\n\n        return 0;\n    }\n\n    public visibleBinToFrequency(visibleBinIndex: number): number {\n        const vf = this._visibleFrequencies;\n        const vbc = this._options.visibleBinCount!;\n\n        if (visibleBinIndex >= vbc - 1) {\n            return vf[vbc - 1];\n        }\n        else if (visibleBinIndex > 0) {\n            return vf[visibleBinIndex];\n        }\n\n        return vf[0];\n    }\n\n    public visibleBinToFrequencyGroup(visibleBinIndex: number): number[] {\n        const ez = this._equivalentZones;\n        const vf = this._visibleFrequencies;\n        const vbc = this._options.visibleBinCount!;\n\n        if (visibleBinIndex >= vbc - 1) {\n            return [Math.round(vf[vbc - 1]), Math.round(ez[ez.length - 1])];\n        }\n        else if (visibleBinIndex > 0) {\n            const ezc = this._equivalentZonesFrequencyCount;\n\n            for (let i = ezc.length - 1; i >= 0; i--) {\n                if (visibleBinIndex >= ezc[i]) {\n                    return [Math.round(vf[visibleBinIndex]), Math.round(ez[i])];\n                }\n            }\n        }\n\n        return [Math.round(vf[0]), Math.round(ez[0])];\n    }\n\n    public changeZoneY(channelIndex: number, x: number, y: number) {\n        let i = this.visibleBinToZoneIndex(x);\n        const ii = this._equivalentZonesFrequencyCount[i + 1];\n        const cy = this.clampY(y);\n        const curve = this._channelCurves[channelIndex];\n\n        for (i = this._equivalentZonesFrequencyCount[i]; i < ii; i++) {\n            curve[i] = cy;\n        }\n    }\n\n    public copyFilter(sourceChannel: number, destinationChannel: number) {\n        const src = this._filterKernel.getChannelData(sourceChannel);\n        const dst = this._filterKernel.getChannelData(destinationChannel);\n\n        for (let i = (this._filterLength - 1); i >= 0; i--) {\n            dst[i] = src[i];\n        }\n\n        this._convolver.buffer = this._filterKernel;\n    }\n\n    public updateFilter(updateBothChannels: boolean) {\n        const channelIndex = Math.max(this._channelIndex, 0);\n        const isSameFilterLR = channelIndex === -1;\n        const filterLength = this._filterLength;\n        const curve = this._channelCurves[channelIndex];\n        const valueCount = this._options.visibleBinCount!;\n        const bw = this._sampleRate / filterLength;\n        const filterLength2 = (filterLength >>> 1);\n        const filter = this._filterKernel.getChannelData(channelIndex);\n        const _visibleFrequencies = this._visibleFrequencies;\n        /* M = filterLength2, so, M_HALF_PI_FFTLEN2 = (filterLength2 * 0.5 * Math.PI) / filterLength2 */\n        const M_HALF_PI_FFTLEN2 = 0.5 * Math.PI;\n        let invMaxMag = 1;\n        let repeat = Number(this._isNormalized) + 1;\n\n        // fill in all filter points, either averaging or interpolating them as necessary\n        do {\n            repeat--;\n            let i = 1;\n            let ii = 0;\n\n            // tslint:disable-next-line:no-constant-condition\n            while (true) {\n                const freq = bw * i;\n\n                if (freq >= _visibleFrequencies[0]) {\n                    break;\n                }\n\n                const mag = this.yToMagnitude(curve[0]);\n                filter[i << 1] = mag * invMaxMag;\n                i++;\n            }\n\n            while (bw > _visibleFrequencies[ii + 1] - _visibleFrequencies[ii] &&\n                   i < filterLength2 && ii < valueCount - 1) {\n                const freq = bw * i;\n                let avg = 0;\n                let avgCount = 0;\n\n                do {\n                    avg += curve[ii];\n                    avgCount++;\n                    ii++;\n                } while (freq > _visibleFrequencies[ii] && ii < valueCount - 1);\n\n                const mag = this.yToMagnitude(avg / avgCount);\n                filter[i << 1] = mag * invMaxMag;\n                i++;\n            }\n\n            for (; i < filterLength2; i++) {\n                const freq = bw * i;\n                let mag: number;\n\n                if (freq >= _visibleFrequencies[valueCount - 1]) {\n                    mag = this.yToMagnitude(curve[valueCount - 1]);\n                }\n                else {\n                    while (ii < (valueCount - 1) && freq > _visibleFrequencies[ii + 1]) {\n                        ii++;\n                    }\n\n                    mag = this.yToMagnitude(\n                        Equalizer._lerp(_visibleFrequencies[ii], curve[ii],\n                                       _visibleFrequencies[ii + 1], curve[ii + 1], freq));\n                }\n                filter[i << 1] = mag * invMaxMag;\n            }\n            // since DC and Nyquist are purely real, do not bother with them in the for loop,\n            // just make sure neither one has a gain greater than 0 dB\n            filter[0] = (filter[2] >= 1 ? 1 : filter[2]);\n            filter[1] = (filter[filterLength - 2] >= 1 ? 1 : filter[filterLength - 2]);\n\n            // convert the coordinates from polar to rectangular\n            for (i = filterLength - 2; i >= 2; i -= 2) {\n                /*                -k.j\n                 * polar = Mag . e\n                 *\n                 * where:\n                 * k = (M / 2) * pi * i / (fft length / 2)\n                 * i = index varying from 0 to (fft length / 2)\n                 *\n                 * rectangular:\n                 * real = Mag . cos(-k)\n                 * imag = Mag . sin(-k)\n                 */\n                const k = M_HALF_PI_FFTLEN2 * (i >>> 1);\n                /* ****NOTE:\n                 * when using FFTReal ou FFTNR, k MUST BE passed as the argument of sin and cos, due to the\n                 * signal of the imaginary component\n                 * RFFT, intel and other fft's use the opposite signal... therefore, -k MUST BE passed!!\n                 */\n                filter[i + 1] = (filter[i] * Math.sin(k));\n                filter[i] *= Math.cos(k);\n            }\n\n            FFTReal(filter, filterLength, -1);\n\n            if (repeat) {\n                // get the actual filter response, and then, compensate\n                invMaxMag = this._applyWindowAndComputeActualMagnitudes(filter);\n\n                if (invMaxMag <= 0) {\n                    repeat = 0;\n                }\n\n                invMaxMag = 1.0 / invMaxMag;\n            }\n        } while (repeat);\n\n        if (isSameFilterLR) {\n            // copy the filter to the other channel\n            this.copyFilter(channelIndex, 1 - channelIndex);\n            return;\n        }\n\n        if (updateBothChannels) {\n            // update the other channel as well\n            const oldChannelIndex = this._channelIndex;\n\n            this._channelIndex = 1 - channelIndex;\n            this.updateFilter(false);\n            this._channelIndex = oldChannelIndex;\n            return;\n        }\n\n        this._convolver.buffer = this._filterKernel;\n    }\n\n    public updateActualChannelCurve(channelIndex: number) {\n        const filterLength = this._filterLength;\n        const curve = this._actualChannelCurve;\n        const valueCount = this._options.visibleBinCount!;\n        const bw = this._sampleRate / filterLength;\n        const filterLength2 = (filterLength >>> 1);\n        const tmp = this._tmp;\n        const _visibleFrequencies = this._visibleFrequencies;\n        const filter = this._filterKernel.getChannelData(channelIndex);\n\n        this._applyWindowAndComputeActualMagnitudes(filter);\n\n        // tmp now contains (filterLength2 + 1) magnitudes\n        let i = 0;\n        let ii = 0;\n\n        while (ii < valueCount - 1 && i < filterLength2 && bw > _visibleFrequencies[ii + 1] - _visibleFrequencies[ii]) {\n            let freq = bw * i;\n\n            while (i < filterLength2 && freq + bw < _visibleFrequencies[ii]) {\n                i++;\n                freq = bw * i;\n            }\n\n            curve[ii] = this.magnitudeToY(\n                Equalizer._lerp(freq, tmp[i], freq + bw, tmp[i + 1], _visibleFrequencies[ii]));\n            ii++;\n        }\n\n        i++;\n\n        while (i < filterLength2 && ii < valueCount) {\n            let freq: number;\n            let avg = 0;\n            let avgCount = 0;\n\n            do {\n                avg += tmp[i];\n                avgCount++;\n                i++;\n                freq = bw * i;\n            } while (freq < _visibleFrequencies[ii] && i < filterLength2);\n\n            curve[ii] = this.magnitudeToY(avg / avgCount);\n            ii++;\n        }\n\n        i = (this._sampleRate >>> 1) >= _visibleFrequencies[valueCount - 1]\n            ? curve[ii - 1]\n            : this._options.validYRangeHeight! + 1;\n\n        for (; ii < valueCount; ii++) {\n            curve[ii] = i;\n        }\n    }\n\n    private _applyWindowAndComputeActualMagnitudes(filter: Float32Array): number {\n        const filterLength = this._filterLength;\n        const tmp = this._tmp;\n        const filterLength2 = (filterLength >>> 1);\n        const M = filterLength2;\n        const PI2_M = 2 * Math.PI / M;\n\n        // it is not possible to know what kind of window the browser will use,\n        // so make an assumption here... Blackman window!\n        // ...at least it is the one I used, back in C++ times :)\n        for (let i = M; i >= 0; i--) {\n            /* Hanning window */\n            // tmp[i] = filter[i] * (0.5 - (0.5 * cos(PI2_M * i)));\n            /* Hamming window */\n            // tmp[i] = filter[i] * (0.54 - (0.46 * cos(PI2_M * i)));\n            /* Blackman window */\n            tmp[i] = filter[i] * (0.42 - (0.5 * Math.cos(PI2_M * i)) + (0.08 * Math.cos(2 * PI2_M * i)));\n        }\n\n        for (let i = filterLength - 1; i > M; i--) {\n            tmp[i] = 0;\n        }\n\n        // calculate the spectrum\n        FFTReal(tmp, filterLength, 1);\n        // save Nyquist for later\n        const ii = tmp[1];\n        let maxMag = (tmp[0] > ii ? tmp[0] : ii);\n\n        for (let i = 2; i < filterLength; i += 2) {\n            const rval = tmp[i];\n            const ival = tmp[i + 1];\n            const mag = Math.sqrt((rval * rval) + (ival * ival));\n\n            tmp[i >>> 1] = mag;\n            if (mag > maxMag) {\n                maxMag = mag;\n            }\n        }\n\n        // restore Nyquist in its new position\n        tmp[filterLength2] = ii;\n        return maxMag;\n    }\n\n    private static _validateFilterLength(filterLength: number) {\n        if (filterLength < 8 || (filterLength & (filterLength - 1))) {\n            throw new Error('The FFT size must be power of 2 and not less than 8.');\n        }\n    }\n\n    private static _lerp(x0: number, y0: number, x1: number, y1: number, x: number): number {\n        return ((x - x0) * (y1 - y0) / (x1 - x0)) + y0;\n    }\n\n    // virtual properties\n\n    get filterLength(): number {\n        return this._filterLength;\n    }\n\n    set filterLength(newFilterLength: number) {\n        if (this._filterLength !== newFilterLength) {\n            Equalizer._validateFilterLength(newFilterLength);\n            this._filterLength = newFilterLength;\n            this._binCount = (newFilterLength >>> 1) + 1;\n            this._filterKernel = this._audioContext.createBuffer(2, newFilterLength, this._sampleRate);\n            this._tmp = new Float32Array(newFilterLength);\n            this.updateFilter(true);\n        }\n    }\n\n    get sampleRate(): number {\n        return this._sampleRate;\n    }\n\n    set sampleRate(newSampleRate: number) {\n        if (this.sampleRate !== newSampleRate) {\n            this._sampleRate = newSampleRate;\n            this._filterKernel = this._audioContext.createBuffer(2, this._filterLength, newSampleRate);\n            this.updateFilter(true);\n        }\n    }\n\n    get isNormalized(): boolean {\n        return this._isNormalized;\n    }\n\n    set isNormalized(isNormalized: boolean) {\n        if (this.isNormalized !== isNormalized) {\n            this._isNormalized = isNormalized;\n            this.updateFilter(true);\n        }\n    }\n\n    get audioContext(): AudioContext {\n        return this._audioContext;\n    }\n\n    set audioContext(newAudioContext: AudioContext) {\n        if (this.audioContext !== newAudioContext) {\n            this._convolver.disconnect(0);\n            this._audioContext = newAudioContext;\n            this._filterKernel = newAudioContext.createBuffer(2, this._filterLength, this._sampleRate);\n            this._convolver = newAudioContext.createConvolver();\n            this._convolver.normalize = false;\n            this._convolver.buffer = this._filterKernel;\n            this.updateFilter(true);\n        }\n    }\n\n    get options(): IEqualizerOptions {\n        return deepAssign({}, defaultOptions, this._options);\n    }\n\n    get visibleFrequencies(): Float32Array {\n        return this._visibleFrequencies;\n    }\n\n    get channelCurves(): Int16Array[] {\n        return this._channelCurves.slice();\n    }\n\n    get actualChannelCurve(): Int16Array {\n        return this._actualChannelCurve;\n    }\n\n    get convolver(): ConvolverNode {\n        return this._convolver;\n    }\n\n    get channelIndex(): number {\n        return this._channelIndex;\n    }\n\n    get zeroChannelValueY(): number {\n        return this._zeroChannelValueY;\n    }\n\n    get equivalentZonesFrequencyCount(): Float32Array {\n        return this._equivalentZonesFrequencyCount;\n    }\n\n    set channelIndex(newChannelIndex: number) {\n        this._channelIndex = newChannelIndex;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./ts/Equalizer.ts","/**\n * canvas-equalizer is distributed under the FreeBSD License\n *\n * Copyright (c) 2012-2017 Armando Meziat, Carlos Rafael Gimenes das Neves\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer.\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * The views and conclusions contained in the software and documentation are those\n * of the authors and should not be interpreted as representing official policies,\n * either expressed or implied, of the FreeBSD Project.\n *\n * https://github.com/kantoradio/canvas-equalizer\n */\n\n/*==============================================================================\n *\n * This algorithm is an adaptation of the algorithm from the hardcover\n * book \"Numerical Recipes: The Art of Scientific Computing, 3rd Edition\",\n * with some additional optimizations and changes.\n *\n * I HIGHLY recommend this book!!! :D\n *\n *==============================================================================\n */\n\n/* Ordering of data\n * time [0]          | Real [bin 0]\n * time [1]          | Real [bin length/2]\n * time [2]          | Real [bin 1]\n * time [3]          | Imag [bin 1]\n * time [...]        | Real [bin ...]\n * time [...]        | Imag [bin ...]\n * time [length-2]   | Real [bin length/2-1]\n * time [length-1]   | Imag [bin length/2-1]\n */\n\n/* tslint:disable:no-magic-numbers no-bitwise */\n\nexport function FFTComplex(data: Float32Array, n: number, isign: number) {\n    const nn = n << 1;\n    let mmax: number;\n    let m: number;\n    let j = 1;\n    let istep: number;\n    let i: number;\n    let wr: number;\n    let wpr: number;\n    let wpi: number;\n    let wi: number;\n    let theta: number;\n    let tempr: number;\n    let tempi: number;\n    let halfmmax: number;\n    let dj1: number;\n    let dj: number;\n\n    // bit reversal swap\n    for (i = 1; i < nn; i += 2) {\n        if (j > i) {\n            tempr = data[j - 1];\n            data[j - 1] = data[i - 1];\n            data[i - 1] = tempr;\n            tempr = data[j];\n            data[j] = data[i];\n            data[i] = tempr;\n        }\n\n        m = n;\n\n        while (m >= 2 && j > m) {\n            j -= m;\n            m >>>= 1;\n        }\n\n        j += m;\n    }\n\n    // first pass (mmax = 2 / wr = 1 / wi = 0)\n    for (i = 1; i <= nn; i += 4) {\n        j = i + 2;\n        tempr = data[j - 1];\n        tempi = data[j];\n        data[j - 1] = data[i - 1] - tempr;\n        data[j] = data[i] - tempi;\n        data[i - 1] += tempr;\n        data[i] += tempi;\n    }\n\n    /* I decided not to unroll the following steps in favor of the cache memory\n\n    // second pass (mmax = 4 / wr = 1 / wi = 0) A\n    for (i = 1; i <= nn; i += 8) {\n        j = i + 4;\n        tempr = data[j - 1];\n        tempi = data[j];\n        data[j - 1] = data[i - 1] - tempr;\n        data[j] = data[i] - tempi;\n        data[i - 1] += tempr;\n        data[i] += tempi;\n    }\n\n    // second pass (mmax = 4 / wr = 0 / wi = isign) B\n    if (isign === 1) {\n        for (i = 3; i <= nn; i += 8) {\n            j = i + 4;\n            tempr = -data[j];\n            tempi = data[j - 1];\n            data[j - 1] = data[i - 1] - tempr;\n            data[j] = data[i] - tempi;\n            data[i - 1] += tempr;\n            data[i] += tempi;\n        }\n    }\n    else {\n        for (i = 3; i <= nn; i += 8) {\n            j = i + 4;\n            tempr = data[j];\n            tempi = -data[j - 1];\n            data[j - 1] = data[i - 1] - tempr;\n            data[j] = data[i] - tempi;\n            data[i - 1] += tempr;\n            data[i] += tempi;\n        }\n    }\n\n    mmax = 8;\n    theta = isign * Math.PI * 0.25;\n    */\n\n    mmax = 4;\n    theta = isign * Math.PI * 0.5;\n\n    while (nn > mmax) {\n        istep = mmax << 1;\n        wpi = Math.sin(theta);\n        theta *= 0.5;\n        wpr = Math.sin(theta);\n        wpr *= -2.0 * wpr;\n\n        // ---------------------------------------------\n        // special case for the inner loop when m = 1:\n        // wr = 1 / wi = 0\n        for (i = 1; i <= nn; i += istep) {\n            j = i + mmax;\n            tempr = data[j - 1];\n            tempi = data[j];\n            data[j - 1] = data[i - 1] - tempr;\n            data[j] = data[i] - tempi;\n            data[i - 1] += tempr;\n            data[i] += tempi;\n        }\n\n        wr = 1.0 + wpr;\n        wi = wpi;\n        // ---------------------------------------------\n\n        halfmmax = ((mmax >>> 1) + 1);\n\n        for (m = 3; m < halfmmax; m += 2) {\n            for (i = m; i <= nn; i += istep) {\n                j = i + mmax;\n                tempr = (wr * (dj1 = data[j - 1])) - (wi * (dj = data[j]));\n                tempi = (wr * dj) + (wi * dj1);\n                data[j - 1] = data[i - 1] - tempr;\n                data[j] = data[i] - tempi;\n                data[i - 1] += tempr;\n                data[i] += tempi;\n            }\n            wr += ((tempr = wr) * wpr) - (wi * wpi);\n            wi += (wi * wpr) + (tempr * wpi);\n        }\n\n        // ---------------------------------------------\n        // special case for the inner loop when m = ((mmax >>> 1) + 1):\n        // wr = 0 / wi = isign\n        if (isign === 1) {\n            for (i = m; i <= nn; i += istep) {\n                j = i + mmax;\n                tempr = -data[j];\n                tempi = data[j - 1];\n                data[j - 1] = data[i - 1] - tempr;\n                data[j] = data[i] - tempi;\n                data[i - 1] += tempr;\n                data[i] += tempi;\n            }\n            wr = -wpi;\n            wi = 1.0 + wpr;\n        }\n        else {\n            for (i = m; i <= nn; i += istep) {\n                j = i + mmax;\n                tempr = data[j];\n                tempi = -data[j - 1];\n                data[j - 1] = data[i - 1] - tempr;\n                data[j] = data[i] - tempi;\n                data[i - 1] += tempr;\n                data[i] += tempi;\n            }\n            wr = wpi;\n            wi = -1.0 - wpr;\n        }\n\n        m += 2;\n        // ---------------------------------------------\n\n        for (; m < mmax; m += 2) {\n            for (i = m; i <= nn; i += istep) {\n                j = i + mmax;\n                tempr = (wr * (dj1 = data[j - 1])) - (wi * (dj = data[j]));\n                tempi = (wr * dj) + (wi * dj1);\n                data[j - 1] = data[i - 1] - tempr;\n                data[j] = data[i] - tempi;\n                data[i - 1] += tempr;\n                data[i] += tempi;\n            }\n            wr += ((tempr = wr) * wpr) - (wi * wpi);\n            wi += (wi * wpr) + (tempr * wpi);\n        }\n\n        mmax = istep;\n    }\n}\n\nexport function FFTReal(data: Float32Array, n: number, isign: number) {\n    let i: number;\n    let i1: number;\n    let i2: number;\n    let i3: number;\n    let i4: number;\n    let d1: number;\n    let d2: number;\n    let d3: number;\n    let d4: number;\n    const n4 = n >>> 2;\n    let c2: number;\n    let h1r: number;\n    let h1i: number;\n    let h2r: number;\n    let h2i: number;\n    let wr: number;\n    let wi: number;\n    let wpr: number;\n    let wpi: number;\n    let theta = Math.PI / (n >>> 1);\n\n    if (isign === 1) {\n        c2 = -0.5;\n        FFTComplex(data, n >>> 1, 1);\n    }\n    else {\n        c2 = 0.5;\n        theta = -theta;\n    }\n\n    wpr = Math.sin(0.5 * theta);\n    wr = 1.0 + (wpr *= (-2.0 * wpr));\n    wi = (wpi = Math.sin(theta));\n\n    for (i = 1; i < n4; i++) {\n        i2 = 1 + (i1 = (i << 1));\n        i4 = 1 + (i3 = (n - i1));\n        h1r = 0.5 * ((d1 = data[i1]) + (d3 = data[i3]));\n        h1i = 0.5 * ((d2 = data[i2]) - (d4 = data[i4]));\n        h2r = -c2 * (d2 + d4);\n        h2i = c2 * (d1 - d3);\n        data[i1] = h1r + (d1 = (wr * h2r)) - (d2 = (wi * h2i));\n        data[i2] = h1i + (d3 = (wr * h2i)) + (d4 = (wi * h2r));\n        data[i3] = h1r - d1 + d2;\n        data[i4] = d3 + d4 - h1i;\n        wr += ((h1r = wr) * wpr) - (wi * wpi);\n        wi += (wi * wpr) + (h1r * wpi);\n    }\n\n    if (isign === 1) {\n        data[0] = (h1r = data[0]) + data[1];\n        data[1] = h1r - data[1];\n    }\n    else {\n        data[0] = 0.5 * ((h1r = data[0]) + data[1]);\n        data[1] = 0.5 * (h1r - data[1]);\n        FFTComplex(data, n >>> 1, -1);\n        h1r = 2.0 / n;\n\n        for (i = n - 1; i >= 0; i--) {\n            data[i] *= h1r;\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./ts/FFTNR.ts","/**\n * canvas-equalizer is distributed under the FreeBSD License\n *\n * Copyright (c) 2012-2017 Armando Meziat, Carlos Rafael Gimenes das Neves\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer.\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * The views and conclusions contained in the software and documentation are those\n * of the authors and should not be interpreted as representing official policies,\n * either expressed or implied, of the FreeBSD Project.\n *\n * https://github.com/kantoradio/canvas-equalizer\n */\n\nimport defaultLocale from '../locales/en.json';\n\nimport ILocale from './ILocale';\n\ninterface ILocaleSet {\n    [langId: string]: ILocale;\n}\n\nconst defaultLanguage = 'en';\n\nexport default class L10n {\n\n    private _language: string;\n    private _locales: ILocaleSet = {};\n\n    constructor(language: string = defaultLanguage) {\n        this._language = language;\n        this.loadLocale(defaultLanguage, defaultLocale);\n    }\n\n    public loadLocale(language: string, locale: ILocale) {\n        this._locales[language] = locale;\n    }\n\n    public get(tag: string) {\n        let locales = this._locales[this._language] || this._locales[defaultLanguage];\n\n        if (locales[tag] === undefined) {\n            locales = this._locales[defaultLanguage];\n        }\n\n        return locales[tag];\n    }\n\n    public format(str: string, ...args: any[]): string {\n        str = this.get(str);\n        args.forEach((arg: any, i: number) => {\n            str = str.replace(new RegExp(`\\\\{${i}\\\\}`, 'g'), arg.toLocaleString(this._language));\n        });\n\n        return str;\n    }\n\n    get language(): string {\n        return this._language;\n    }\n\n    set language(language: string) {\n        this._language = language;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./ts/L10n.ts","'use strict';\nmodule.exports = function (x) {\n\tvar type = typeof x;\n\treturn x !== null && (type === 'object' || type === 'function');\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/is-obj/index.js\n// module id = 8\n// module chunks = 0 1","module.exports = {\n\t\"cursor.label\": \"Cursor: <span></span> dB\",\n\t\"curve.label\": \"Curve: <span></span> dB\",\n\t\"frequency.label\": \"Frequency: <span></span>\",\n\t\"frequency.text\": \"{0} ({1})\",\n\t\"frequency.format\": \"{0} {1}\",\n\t\"frequency.unit.Hz\": \"Hz\",\n\t\"frequency.unit.kHz\": \"kHz\",\n\t\"menu\": \"Options\",\n\t\"menu.both\": \"Same curve for both channels\",\n\t\"menu.both.left\": \"Use left curve\",\n\t\"menu.both.right\": \"Use right curve\",\n\t\"menu.one\": \"One curve for each channel\",\n\t\"menu.one.left\": \"Show left curve\",\n\t\"menu.one.right\": \"Show right curve\",\n\t\"menu.zones\": \"Show zones\",\n\t\"menu.zoneEdit\": \"Edit by zones\",\n\t\"menu.normalizeCurves\": \"Normalize curves\",\n\t\"menu.actualResponse\": \"Show actual response\"\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./locales/en.json\n// module id = 9\n// module chunks = 0 1"],"sourceRoot":""}